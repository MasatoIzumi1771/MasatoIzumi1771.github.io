[

{
  "title": "SuperRAG: æ–‡æ›¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç†è§£ã™ã‚‹æ¬¡ä¸–ä»£ RAG ã®ä»•çµ„ã¿ã¨æ€§èƒ½ã‚’å¾¹åº•è§£èª¬ã™ã‚‹",
  "url": "/articles/superRAG/",
  "date": "2025.12.10",
  "description": "æ–‡æ›¸ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ã”ã¨ç†è§£ã™ã‚‹ã€ŒSuperRAGã€ã®ä»•çµ„ã¿ã¨æ€§èƒ½ã‚’ã€å›³è¡¨ä»˜ãã§è§£èª¬ã—ã¾ã™ã€‚",
  "content": "SuperRAG: æ–‡æ›¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç†è§£ã™ã‚‹æ¬¡ä¸–ä»£ RAG ã®ä»•çµ„ã¿ã¨æ€§èƒ½ã‚’å¾¹åº•è§£èª¬ã™ã‚‹ RAGï¼ˆRetrieval-Augmented Generationï¼‰ã¯ã€æŠ€è¡“æ–‡æ›¸ã‚„ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã€ç ”ç©¶è³‡æ–™ã®æ¤œç´¢ãƒ»QA ã«åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹ã€‚ã—ã‹ã—å¾“æ¥ã® RAG ã¯ã€æ–‡æ›¸ã‚’ ã€Œãƒ†ã‚­ã‚¹ãƒˆãƒãƒ£ãƒ³ã‚¯ã®é›†åˆã€ ã¨ã—ã¦æ‰±ã†ã“ã¨ãŒå‰æã§ã€å›³ã‚„è¡¨ã€æ®µçµ„ã¿ã€ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãªã©ã‚’ä¸€åˆ‡è€ƒæ…®ã—ãªã„ã€‚ãã®ãŸã‚æœ¬æ–‡ã¨å›³è¡¨ã®é–¢ä¿‚æ€§ã‚’ç†è§£ã§ããšã€é‡è¦ãªæƒ…å ±ãŒè½ã¡ã‚‹ã€‚ è«–æ–‡ â€œSuperRAG: Beyond RAG with Layout-Aware Graph Modelingâ€ ã¯ã€æ–‡æ›¸ã‚’ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ã”ã¨ç†è§£ã™ã‚‹ RAG ã‚’ææ¡ˆã™ã‚‹ã€‚æœ¬è¨˜äº‹ã§ã¯ã€ä»•çµ„ã¿ã‹ã‚‰ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœã¾ã§ã‚’å›³è¡¨ä»˜ãã§æ•´ç†ã™ã‚‹ã€‚ å¾“æ¥ RAG ã®å•é¡Œç‚¹ â€• ãªãœã€Œæ§‹é€ ã€ãŒå¿…è¦ãªã®ã‹ å¾“æ¥ã®æµã‚Œï¼š æ–‡æ›¸ã‚’ä¸€å®šé•·ã§ãƒãƒ£ãƒ³ã‚¯åˆ†å‰² ãƒãƒ£ãƒ³ã‚¯å˜ä½ã§ãƒ™ã‚¯ãƒˆãƒ«åŒ– é¡ä¼¼åº¦ã®é«˜ã„ãƒãƒ£ãƒ³ã‚¯ã‚’æ¤œç´¢ LLM ã«æ¸¡ã—ã¦å›ç­”ç”Ÿæˆ ã“ã®æ–¹å¼ã®å¼±ç‚¹ï¼š å›³ã¨ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãŒåˆ†é›¢ã•ã‚Œã‚‹ è¡¨ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«ï¼‰ã¨èª¬æ˜æ®µè½ãŒé›¢ã‚Œã‚‹ æ®µçµ„ã¿ãƒ»ä¸Šä¸‹é–¢ä¿‚ãªã©ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ãŒæ¶ˆãˆã‚‹ ã€Œå›³2ã®æƒ…å ±ã‚’åŸºã«è¡¨3ã®å€¤ã¨æ¯”è¼ƒã™ã‚‹ã€ã‚ˆã†ãªçµ±åˆç†è§£ãŒã§ããªã„ æŠ€è¡“æ–‡æ›¸ãƒ»è«–æ–‡ãƒ»ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã¯è¤‡é›‘ãªæ§‹é€ ãŒã‚ã‚‹ã‹ã‚‰ã“ãæƒ…å ±ãŒæ­£ç¢ºã«ä¼ã‚ã‚‹ã€‚ãã“ã‚’å£Šã™å¾“æ¥ RAG ã§ã¯é™ç•ŒãŒã‚ã‚‹ã€‚ SuperRAG ã®ä¸­æ ¸ã‚¢ã‚¤ãƒ‡ã‚¢ï¼šæ–‡æ›¸ã‚’ â€œã‚°ãƒ©ãƒ•â€ ã¨ã—ã¦æ‰±ã† SuperRAG ã¯ã€æ–‡æ›¸ã‚’ä»¥ä¸‹ã®ãƒãƒ¼ãƒ‰ï¼ˆnodeï¼‰ã¨ã—ã¦æŠ½å‡ºã—ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆçš„ãƒ»æ„å‘³çš„ãªã¤ãªãŒã‚Šã‚’ã‚¨ãƒƒã‚¸ï¼ˆedgeï¼‰ã§çµã¶ï¼š ãƒ†ã‚­ã‚¹ãƒˆãƒãƒ£ãƒ³ã‚¯ è¦‹å‡ºã— è¡¨ å›³ å›³ãƒ»è¡¨ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ ã“ã†ã—ã¦æ–‡æ›¸ã‚’ Document Graph ã«å¤‰æ›ã—ã€æ§‹é€ ã‚’ä¿æŒã—ãŸã¾ã¾ retrieval ã§ãã‚‹ã€‚ ãƒã‚¤ãƒ³ãƒˆ: å›³ã®è¿‘ãã«ã‚ã‚‹èª¬æ˜æ–‡ è¡¨ã¨ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ è¦‹å‡ºã—ã¨ãã‚Œã«å±ã™ã‚‹æ®µè½ ã“ã‚Œã‚‰ã‚’ãƒªãƒ³ã‚¯ã§æ®‹ã™ã“ã¨ã§ã€Œæ§‹é€ ã‚’å«ã‚€ retrievalã€ãŒå¯èƒ½ã«ãªã‚‹ã€‚ Graph-aware Retrieval â€• æ§‹é€ ã‚’è€ƒæ…®ã—ãŸæ¤œç´¢ SuperRAG ã® retrieval ã¯ embedding é¡ä¼¼åº¦ã ã‘ã§ãªãã€ä»¥ä¸‹ã®æ§‹é€ æƒ…å ±ã‚’ä½¿ã†ï¼š ãƒãƒ¼ãƒ‰åŒå£«ã®ãƒªãƒ³ã‚¯ï¼ˆã‚¨ãƒƒã‚¸ï¼‰ æ–‡æ›¸å†…ã®ä½ç½®é–¢ä¿‚ ãƒšãƒ¼ã‚¸å†…ã®è¿‘æ¥æ€§ è¡¨ã‚„å›³ã®å‘¨è¾ºãƒ†ã‚­ã‚¹ãƒˆ ãã®ãŸã‚ã€ãŸã¨ãˆã°æ¬¡ã®å•ã„ã«ã‚‚å¯¾å¿œã§ãã‚‹ï¼š ã€Œå›³2ã®çµæœã¨è¡¨3ã®å€¤ã‚’æ¯”è¼ƒã—ã¦èª¬æ˜ã›ã‚ˆã€ ã€Œã“ã®è¡¨ã®æ•°å€¤ãŒæ„å‘³ã™ã‚‹å†…å®¹ã‚’æœ¬æ–‡ã®ã©ã“ã§èª¬æ˜ã—ã¦ã„ã‚‹ã‹ã€ ã€Œã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã®æ„å›³ã‚’æœ¬æ–‡ã¨çµ±åˆã—ã¦è¦ç´„ã›ã‚ˆã€ å¾“æ¥ RAG ã§ãƒãƒ©ãƒãƒ©ã ã£ãŸæƒ…å ±ã‚’ã€ã¾ã¨ã‚ã¦å–ã‚Šå‡ºã›ã‚‹ã€‚ å®Ÿéš›ã®æ€§èƒ½ï¼šSuperRAG ã¯ã©ã‚Œãã‚‰ã„å¼·ã„ã®ã‹ï¼Ÿ Table 1: Document Reading Performance Table 1 ã¯ã€Œæ–‡æ›¸ã‚’èª­ã¿å–ã‚‹èƒ½åŠ›ï¼ˆDocument Readingï¼‰ã€ã®è©•ä¾¡ã€‚SuperRAG ã§æ–‡æ›¸ã‚°ãƒ©ãƒ•ã‚’ä½œã‚‹å‰æ®µã¨ã—ã¦ã€PDF/ç”»åƒã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆãƒ»å›³ãƒ»è¡¨ãƒ»ä½ç½®ãƒ»ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’æ­£ç¢ºã«æŠ½å‡ºã§ãã‚‹ã‹ã‚’æ¸¬ã‚‹ã€‚ æŒ‡æ¨™: NID / TEDS / TEDS-Sï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨è¡¨æ§‹é€ ã®å†ç¾æ€§ã‚’è©•ä¾¡ï¼‰ æ¯”è¼ƒ: Amazon Textract, LlamaParse, Google, Azure DI, Our Readerï¼ˆSuperRAGç”¨ï¼‰ ã‚¹ã‚³ã‚¢ã®èª­ã¿ã©ã“ã‚ï¼ˆã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„ï¼‰: Amazon Textract: æœ€é«˜æ°´æº–ã®NIDã€TEDS/TEDS-Sã‚‚é«˜ãå®‰å®šã€‚ LlamaParse: NIDé«˜ã„ãŒTEDS/TEDS-Sã¯ä¸­ç¨‹åº¦ã§æ§‹é€ å†ç¾ãŒã‚„ã‚„ä¸å®‰å®šã€‚ Google / Azure: ç”»åƒæ–‡æ›¸ã«ã¯å¼·ã„ãŒè¡¨é–¢é€£ã§ã¯å¼±ã‚ã€‚ Our Reader (SuperRAGç”¨): Textractã«è‚‰è–„ã™ã‚‹ NID 92.43 / TEDS 87.19 ã§æ§‹é€ ä¿æŒãŒãƒãƒ©ãƒ³ã‚¹è‰¯å¥½ã€‚è¡¨ã‚’å«ã‚€ TEDS-S ã§ã‚‚é«˜ã‚¹ã‚³ã‚¢ã€‚ ã¤ã¾ã‚Š Our Reader ã¯ Textractç´šã®æ§‹é€ å¾©å…ƒåŠ›ã‚’æŒã¡ã€å¾Œæ®µã®ã‚°ãƒ©ãƒ•åŒ–ãƒ»retrieval ã®åœŸå°ãŒå¼·ã„ã€‚ Table 2: QA Task Performance æŠ€è¡“è³‡æ–™ãƒ»è«–æ–‡ã® QA ã§ï¼š Standard RAG: EM 30ã€œ40%, F1 45ã€œ55% SuperRAG: EM 40ã€œ52%, F1 56ã€œ68% F1 ãŒ +10ã€œ+15 ãƒã‚¤ãƒ³ãƒˆæ”¹å–„ã€‚å›³ãƒ»è¡¨ãƒ»æ®µçµ„ã¿ã‚’å«ã‚€æ–‡æ›¸ç†è§£ã«å¼·ã„ã“ã¨ãŒã‚ã‹ã‚‹ã€‚ Table 3: Multimodal Integration Task å›³ã¨æœ¬æ–‡ã€è¡¨ã¨æœ¬æ–‡ã‚’çµ±åˆã—ã¦ç­”ãˆã‚‹è¤‡åˆ QA ã®æ€§èƒ½è©•ä¾¡ã€‚ ãƒ†ã‚­ã‚¹ãƒˆã®ã¿ãƒ¢ãƒ‡ãƒ«æ¯”ã§ 30ã€œ50% ã®ç›¸å¯¾æ”¹å–„ ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ãªã—ãƒ¢ãƒ‡ãƒ«ã‚ˆã‚Šåœ§å€’çš„ã«é«˜ã„æ­£ç­”ç‡ æ€§èƒ½ã¾ã¨ã‚ retrieval ã®è³ªãŒå‘ä¸Š å›³è¡¨ã‚’å«ã‚€è¤‡é›‘æ–‡æ›¸ã§ã® QA ãŒå¼·åŒ– F1 ãŒå¤§ããæ”¹å–„ï¼ˆ+10ã€œ15ï¼‰ ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«çµ±åˆã‚¿ã‚¹ã‚¯ã§åœ§å€’çš„ å¼·ã¿ã¨å¼±ã¿ï¼ˆå®Ÿç”¨ç›®ç·šï¼‰ å¼·ã¿ æ–‡æ›¸æ§‹é€ ã‚’ä¿æŒï¼šæ®µè½ãƒ»å›³ãƒ»è¡¨ãƒ»ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¾ã¨ã‚ã¦æ‰±ãˆã‚‹ ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«æ–‡æ›¸ã«å¼·ã„ï¼šæŠ€è¡“ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼è«–æ–‡ï¼å ±å‘Šæ›¸ï¼PDF Retrieval ã®å–ã‚Šã“ã¼ã—ãŒæ¸›ã‚‹ï¼šæ§‹é€ ãƒªãƒ³ã‚¯ã§ã€Œè¿‘ãã®èª¬æ˜æ–‡ã€ã‚‚æ‹¾ã† å¼±ã¿ / èª²é¡Œ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆè§£æç²¾åº¦ã«ä¾å­˜ï¼šOCR ãŒå¼±ã„è¨€èªã§ã¯è¿½åŠ å·¥å¤«ãŒå¿…è¦ ã‚°ãƒ©ãƒ•æ§‹ç¯‰ã¨æ¤œç´¢ãŒé‡ã„ï¼šã‚·ã‚¹ãƒ†ãƒ ãŒå¤§ãããªã‚Šã‚„ã™ã„ ã‚¹ã‚±ãƒ¼ãƒ«å•é¡Œï¼šå¤§é‡ PDF ã§ã¯ã‚°ãƒ©ãƒ•ç”Ÿæˆã‚³ã‚¹ãƒˆãŒè·³ã­ä¸ŠãŒã‚‹ ã¾ã¨ã‚ SuperRAG ã¯ã€å¾“æ¥ RAG ã®å¤©æ•µã ã£ãŸ å›³ è¡¨ ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€  ã¨ã„ã£ãŸ â€œæ–‡æ›¸ã®æœ¬æ¥ã®æ§‹é€ â€ ã‚’ä¿æŒã—ã€retrievalãƒ»generation ã«åæ˜ ã™ã‚‹ã€‚å®Ÿé¨“çµæœã§ã‚‚ãƒãƒ£ãƒ³ã‚¯å‹ RAGã«å¯¾ã—ä¸Šä½äº’æ›çš„ãªæ€§èƒ½ã‚’ç¤ºã™ã€‚æŠ€è¡“æ–‡æ›¸ã‚„ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã€è«–æ–‡ãªã©ã€æ§‹é€ ãŒå‘½ã®æ–‡æ›¸ã‚’æ‰±ã†å ´åˆã«ã¯æ³¨ç›®ã™ã¹ãã‚¢ãƒ—ãƒ­ãƒ¼ãƒã ã€‚ å‚è€ƒæ–‡çŒ® Chening Yang, Duy-Khanh Vu, Minh-Tien Nguyen, Xuan-Quang Nguyen, Linh Nguyen, Hung Le. SuperRAG: Beyond RAG with Layout-Aware Graph Modeling. NAACL Industry Track 2025. https://arxiv.org/abs/2503.04790 ACL Anthology version: https://aclanthology.org/2025.naacl-industry.45.pdf"
},

{
  "title": "2å›ç›®ã®ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«",
  "url": "/articles/renewal2/renewal2.html",
  "date": "2025.12.03",
  "description": "æ¤œç´¢è¿½åŠ ã€UIã®å°æ”¹ä¿®ã€é‹ç”¨æ”¹å–„ã‚’ã¾ã¨ã‚ãŸã‚†ã‚‹ã„æŒ¯ã‚Šè¿”ã‚Šã€‚",
  "content": "2å›ç›®ã®ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã€ã‚„ã‚Šã¾ã—ãŸ ã€Œã‚‚ã£ã¨ã•ã£ã¨æ¢ã›ã¦ã€ã•ã£ã¨æ›¸ã‘ã‚‹ã€ã‚’ãƒ†ãƒ¼ãƒã«ã€å°ã•ãå›ã—ãŸã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã®ã¾ã¨ã‚ã§ã™ã€‚ 1. ç ”ç©¶è¨˜äº‹æ¤œç´¢ã‚’è¿½åŠ  Lunr.js ã§è¨˜äº‹å…¨æ–‡æ¤œç´¢ã‚’å®Ÿè£…ã€‚RAGã€Dockerã€Transformer ãªã©ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§ä¸€ç™ºãƒ’ãƒƒãƒˆã€‚ ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ãƒ“ãƒ«ãƒ‰æ™‚ã«è‡ªå‹•ç”Ÿæˆã€‚è¨˜äº‹ã‚’å¢—ã‚„ã—ã¦ã‚‚æ‰‹å‹•æ›´æ–°ãªã—ã€‚ 2. UI ã‚’ã¡ã‚‡ã£ã¨æ‰‹å…¥ã‚Œ ãƒ˜ãƒƒãƒ€ãƒ¼ã«è–„ã„ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã€ãƒ¢ãƒã‚¤ãƒ«ã§ã‚‚è¦–èªæ€§ã‚¢ãƒƒãƒ—ã€‚ ãƒ•ãƒƒã‚¿ãƒ¼ã«ã€Œãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’é…ç½®ã€‚é•·æ–‡ã§ã‚‚å¸°ã‚Šé“ã‚’ç¢ºä¿ã€‚ ãƒ‘ãƒ³ããšãƒ»ã‚¿ã‚°ãƒ»å‰å¾Œè¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¿½åŠ ã—ã€è¨˜äº‹é–“ã®å›éŠæ€§ã‚’å‘ä¸Šã€‚ 3. é‹ç”¨ã¾ã‚ã‚Šã‚’æ•´ç† è¨˜äº‹ã¯ Markdown/HTML ã©ã¡ã‚‰ã§ã‚‚OKã«çµ±ä¸€ã€‚tags: [articles, ...] ã‚’ä»˜ã‘ã‚Œã°ä¸€è¦§ãƒ»æ›´æ–°å±¥æ­´ã«è‡ªå‹•åæ˜ ã€‚ GitHub Pages ç”¨ã« docs/ ã‚’ãƒ“ãƒ«ãƒ‰å‡ºåŠ›ã€‚npm run build â†’ push ã ã‘ã§ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã€‚ æ¤œç´¢ç”¨ã® search-index.json ã‚‚è‡ªå‹•ç”Ÿæˆã€‚é‹ç”¨ã‚³ã‚¹ãƒˆã¯ã»ã¼ã‚¼ãƒ­ã€‚ 4. ã“ã‚Œã‹ã‚‰ ç”»åƒæœ€é©åŒ–ï¼ˆWebP + srcsetï¼‰ã¨ OGP ã‚µãƒ ãƒè‡ªå‹•ç”Ÿæˆã‚’æ¤œè¨ä¸­ã€‚ è¨˜äº‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®çœåŠ›åŒ–ï¼ˆãƒ‰ãƒ©ãƒ•ãƒˆãƒ•ãƒ©ã‚°ã€è‡ªå‹•æ—¥ä»˜æŒ¿å…¥ï¼‰ã‚‚æ•´å‚™ã—ãŸã„ã€‚ ã‚†ã‚‹ãå›ã—ã¤ã¤ã€èª­ã¿ã‚„ã™ã•ã¨æ›´æ–°ã®ã—ã‚„ã™ã•ã‚’ä¸¡ç«‹ã—ã¦ã„ãã¾ã™ã€‚æ¬¡ã®å°æ”¹ä¿®ã‚‚ãŠæ¥½ã—ã¿ã«ã€‚"
},

{
  "title": "ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ï¼ˆMarkdownï¼‰",
  "url": "false",
  "date": "2025.10.01",
  "description": "ã‚µãƒ³ãƒ—ãƒ«ã®Markdownè¨˜äº‹ã§ã™ã€‚ã“ã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚",
  "content": "è¦‹å‡ºã—1ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼‰ æœ¬æ–‡ã‚’Markdownã§æ›¸ãã¾ã™ã€‚æ”¹è¡Œã‚„ãƒªã‚¹ãƒˆã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚ è¦‹å‡ºã—2 ç®‡æ¡æ›¸ãã‚‚ ãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚ # bashã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ä¾‹ echo &quot;Hello Markdown&quot; ç”»åƒã¯åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ã„ã¦ã€ç›¸å¯¾ãƒ‘ã‚¹ã§å‚ç…§ã—ã¾ã™ã€‚ å¼•ç”¨ã‚‚OKã§ã™ã€‚ è¦‹å‡ºã—3 ã‚‚ã†å°‘ã—ç´°ã‹ã„è¦‹å‡ºã—ã‚‚ä½¿ãˆã¾ã™ã€‚"
},

{
  "title": "ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ï¼ˆMarkdownï¼‰",
  "url": "false",
  "date": "2025.10.01",
  "description": "ã‚µãƒ³ãƒ—ãƒ«ã®Markdownè¨˜äº‹ã§ã™ã€‚ã“ã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚",
  "content": "è¦‹å‡ºã—1ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼‰ æœ¬æ–‡ã‚’Markdownã§æ›¸ãã¾ã™ã€‚æ”¹è¡Œã‚„ãƒªã‚¹ãƒˆã€ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ãŒãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚ è¦‹å‡ºã—2 ç®‡æ¡æ›¸ãã‚‚ ãã®ã¾ã¾ä½¿ãˆã¾ã™ã€‚ # bashã®ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ä¾‹ echo &quot;Hello Markdown&quot; ç”»åƒã¯åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ã„ã¦ã€ç›¸å¯¾ãƒ‘ã‚¹ã§å‚ç…§ã—ã¾ã™ã€‚ å¼•ç”¨ã‚‚OKã§ã™ã€‚ è¦‹å‡ºã—3 ã‚‚ã†å°‘ã—ç´°ã‹ã„è¦‹å‡ºã—ã‚‚ä½¿ãˆã¾ã™ã€‚"
},

{
  "title": "ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰é›†",
  "url": "/articles/commands/",
  "date": "2025.09.30",
  "description": "Dockerã‚„Gitã§ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã‚’è‡ªåˆ†ç”¨ãƒ¡ãƒ¢ã¨ã—ã¦ã¾ã¨ã‚ã¾ã—ãŸã€‚",
  "content": "ã“ã“ã§ã¯é–‹ç™ºã‚„ç’°å¢ƒæ§‹ç¯‰ã§é »ç¹ã«ä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã‚’ã‚«ãƒ†ã‚´ãƒªåˆ¥ã«ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚å¿…è¦ã«å¿œã˜ã¦éšæ™‚è¿½è¨˜ã—ã¾ã™ã€‚ Docker / Docker Compose Docker Composeã‚’èµ·å‹•ãƒ»åœæ­¢ docker compose up -d # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§èµ·å‹• docker compose down # åœæ­¢ãƒ»ã‚³ãƒ³ãƒ†ãƒŠå‰Šé™¤ docker compose stop # åœæ­¢ã®ã¿ ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ã‚·ã‚§ãƒ«ã«å…¥ã‚‹ docker exec -it [ã‚³ãƒ³ãƒ†ãƒŠåã¾ãŸã¯ID] bash # ã¾ãŸã¯ sh ãƒ“ãƒ«ãƒ‰ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ã‚ãšã«ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å†æ§‹ç¯‰ docker build --no-cache . Git æœ€æ–°ã®ãƒªãƒ¢ãƒ¼ãƒˆãƒ–ãƒ©ãƒ³ãƒã‚’å–ã‚Šè¾¼ã‚€ git pull origin [ãƒ–ãƒ©ãƒ³ãƒå] å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã«è¿½åŠ  git add . # ã™ã¹ã¦è¿½åŠ  git add [ãƒ•ã‚¡ã‚¤ãƒ«å] # æŒ‡å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ ä½¿ã„æ–¹ãƒ¡ãƒ¢ æ–°ã—ã„ã‚³ãƒãƒ³ãƒ‰ã‚’è¦‹ã¤ã‘ãŸã‚‰ã“ã®ãƒšãƒ¼ã‚¸ã«è¿½è¨˜ã—ã¾ã™ã€‚ ã‚ˆãå¿˜ã‚Œã‚‹ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ã‚³ãƒ¡ãƒ³ãƒˆã¨ã—ã¦ä½µè¨˜ã—ã¦ãŠãã¨å¾Œã§ä¾¿åˆ©ã§ã™ã€‚"
},

{
  "title": "BGE-M3ï¼š3ã¤ã®æ¤œç´¢æ‰‹æ³•ã‚’çµ±åˆã—ãŸæ–°ä¸–ä»£åŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«",
  "url": "/articles/bge-m3/bge-m3.html",
  "date": "2025.09.20",
  "description": "BGE-M3ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨å­¦ç¿’æˆ¦ç•¥ã«ã¤ã„ã¦åŒ…æ‹¬çš„ã«ã¾ã¨ã‚ãŸãƒ¡ãƒ¢ã€‚",
  "content": "BGE-M3ã¯ã€å¾“æ¥ã®å˜ä¸€çš„ãªãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ï¼ˆæ„å‘³æ¤œç´¢ï¼‰ã®é™ç•Œã‚’è¶…ãˆã‚‹ãŸã‚ã€ç›®çš„ã®ç•°ãªã‚‹3ã¤ã®æ¤œç´¢æ‰‹æ³•ã‚’å˜ä¸€ãƒ¢ãƒ‡ãƒ«å†…ã«çµ±åˆã™ã‚‹ã“ã¨ã§ã€æ¤œç´¢ç²¾åº¦ã‚’é£›èºçš„ã«å‘ä¸Šã•ã›ã¦ã„ã¾ã™ã€‚æœ¬ç¨¿ã§ã¯ã€ãã®é©æ–°çš„ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨å­¦ç¿’æˆ¦ç•¥ã«ã¤ã„ã¦è©³ã—ãè§£èª¬ã—ã¾ã™ã€‚ ã¯ã˜ã‚ã«ï¼šBGE-M3ã¨ã¯ä½•ã‹ï¼Ÿ BGE-M3ã¯ã€BAAIï¼ˆåŒ—äº¬æ™ºæºäººå·¥æ™ºèƒ½ç ”ç©¶é™¢ï¼‰ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚ŒãŸã€æ¤œç´¢ã‚¿ã‚¹ã‚¯ã«ç‰¹åŒ–ã—ãŸæœ€å…ˆç«¯ã®ãƒ†ã‚­ã‚¹ãƒˆåŸ‹ã‚è¾¼ã¿ï¼ˆEmbeddingï¼‰ãƒ¢ãƒ‡ãƒ«ã§ã™ã€‚ãã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€M3ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã¨å‘¼ã°ã‚Œã‚‹3ã¤ã®æ±ç”¨æ€§ã‚’ã€å˜ä¸€ã®ãƒ¢ãƒ‡ãƒ«ã§å®Ÿç¾ã—ãŸç‚¹ã«ã‚ã‚Šã¾ã™ã€‚ å¤šè¨€èªæ€§ (Multi-Linguality): 100ä»¥ä¸Šã®è¨€èªã‚’å˜ä¸€ãƒ¢ãƒ‡ãƒ«ã§å‡¦ç†ã€‚ å¤šæ©Ÿèƒ½æ€§ (Multi-Functionality): ç›®çš„ã®ç•°ãªã‚‹3ã¤ã®æ¤œç´¢æ‰‹æ³•ï¼ˆDense, Sparse, Multi-vectorï¼‰ã‚’åŒæ™‚ã«å®Ÿè¡Œã€‚ å¤šç²’åº¦æ€§ (Multi-Granularity): çŸ­ã„æ–‡ã‹ã‚‰æœ€å¤§8192ãƒˆãƒ¼ã‚¯ãƒ³ã®é•·æ–‡ã¾ã§å¯¾å¿œã€‚ å›³1: è«–æ–‡ã®å›³1ã«ã‚ã‚‹BGE-M3ã®å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ BGE-M3ã¯ã€å˜ä¸€ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã‚’ç”¨ã„ã¦ã€3ç¨®é¡ã®æ¤œç´¢æ‰‹æ³•ã«å¯¾å¿œã™ã‚‹å‡ºåŠ›ã‚’åŒæ™‚ã«ç”Ÿæˆã—ã¾ã™ã€‚ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãŒå…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‚’å‡¦ç†ã—ã€å„ãƒˆãƒ¼ã‚¯ãƒ³ã®æ–‡è„ˆæƒ…å ±ã‚’ä¿æŒã—ãŸéš ã‚ŒçŠ¶æ…‹ãƒ™ã‚¯ãƒˆãƒ«ï¼ˆHidden Statesï¼‰ã®é›†åˆã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã®ãƒ™ã‚¯ãƒˆãƒ«é›†åˆã‚’ã€Œå…±é€šã®åœŸå°ã€ã¨ã—ã¦ã€å„æ¤œç´¢æ‰‹æ³•ãŒãã‚Œãã‚Œã®æ–¹æ³•ã§é–¢é€£åº¦ã‚¹ã‚³ã‚¢ã‚’è¨ˆç®—ã—ã¾ã™ã€‚ Dense Retrieval (å¯†æ¤œç´¢) ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ã®æ„å‘³çš„ãªé¡ä¼¼æ€§ã‚’æ‰ãˆã‚‹æ‰‹æ³•ã§ã™ã€‚ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ã®å‡ºåŠ›ã®ã†ã¡ã€ç‰¹æ®Šãƒˆãƒ¼ã‚¯ãƒ³[CLS]ã«å¯¾å¿œã™ã‚‹éš ã‚ŒçŠ¶æ…‹ãƒ™ã‚¯ãƒˆãƒ«ã‚’æ­£è¦åŒ–ã—ã€ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ã‚’ä»£è¡¨ã™ã‚‹å˜ä¸€ã®åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ«ã¨ã—ã¦ä½¿ç”¨ã—ã¾ã™ã€‚ ã‚¯ã‚¨ãƒª $q$ ã¨ãƒ‘ãƒƒã‚»ãƒ¼ã‚¸ $p$ ã®é–¢é€£åº¦ã‚¹ã‚³ã‚¢ã¯ã€ãã‚Œãã‚Œã®åŸ‹ã‚è¾¼ã¿ãƒ™ã‚¯ãƒˆãƒ« $E_q$ ã¨ $E_p$ ã®å†…ç©ã«ã‚ˆã£ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚ $$Score_{dense}(q, p) = E_q \\cdot E_p$$ Lexical Retrieval (å­—å¥æ¤œç´¢) ãƒ†ã‚­ã‚¹ãƒˆå†…ã®å„ç”¨èªï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ï¼‰ã®é‡è¦åº¦ã‚’æ¨å®šã™ã‚‹æ‰‹æ³•ã§ã™ã€‚ã‚¯ã‚¨ãƒªå†…ã®å„ç”¨èªã®é‡ã¿ $W_{q,i}$ ã¯ã€å¯¾å¿œã™ã‚‹éš ã‚ŒçŠ¶æ…‹ãƒ™ã‚¯ãƒˆãƒ« $H_{q,i}$ ã¨ã€å­¦ç¿’ã«ã‚ˆã£ã¦å¾—ã‚‰ã‚Œã‚‹é‡ã¿è¡Œåˆ— $M_{lex}$ ã‚’ç”¨ã„ã¦è¨ˆç®—ã•ã‚Œã¾ã™ã€‚ $$W_{q,i} = text{ReLU}(H_{q,i} M_{lex})$$ æœ€çµ‚çš„ãªé–¢é€£åº¦ã‚¹ã‚³ã‚¢ã¯ã€ã‚¯ã‚¨ãƒªã¨ãƒ‘ãƒƒã‚»ãƒ¼ã‚¸ã®ä¸¡æ–¹ã«å…±é€šã—ã¦å‡ºç¾ã™ã‚‹ç”¨èªã«ã¤ã„ã¦ã€ãã‚Œãã‚Œã®é‡ã¿ã‚’æ›ã‘åˆã‚ã›ãŸå€¤ã‚’åˆè¨ˆã™ã‚‹ã“ã¨ã§ç®—å‡ºã•ã‚Œã¾ã™ã€‚ $$Score_{lex}(q, p) = sum_{i,j text{ s.t. } q_i=p_j} max(0, W_{q,i}) cdot max(0, W_{p,j})$$ Multi-Vector Retrieval (å¤šãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢) ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒˆãƒ¼ã‚¯ãƒ³ã”ã¨ã®ãƒ™ã‚¯ãƒˆãƒ«é›†åˆã¨ã—ã¦è¡¨ç¾ã—ã€ã‚ˆã‚Šç²¾å¯†ãªæ¯”è¼ƒã‚’è¡Œã†æ‰‹æ³•ã§ã™ã€‚ã‚¨ãƒ³ã‚³ãƒ¼ãƒ€ãŒå‡ºåŠ›ã—ãŸå…¨ã¦ã®éš ã‚ŒçŠ¶æ…‹ãƒ™ã‚¯ãƒˆãƒ«ã«å¯¾ã—ã€å­¦ç¿’å¯èƒ½ãªå°„å½±è¡Œåˆ— $M_{multi}$ ã‚’é©ç”¨ã—ã¦å¤‰æ›ã—ã¾ã™ã€‚ $$V_{q,i} = H_{q,i} M_{multi}$$ ãã®å¾Œã€ColBERTã§ææ¡ˆã•ã‚ŒãŸLate Interactionï¼ˆé…å»¶ç›¸äº’ä½œç”¨ï¼‰ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã«åŸºã¥ãã€ã‚¯ã‚¨ãƒªã®å„ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ã‚¯ãƒˆãƒ«ã¨ã€ãƒ‘ãƒƒã‚»ãƒ¼ã‚¸ã®å…¨ãƒˆãƒ¼ã‚¯ãƒ³ãƒ™ã‚¯ãƒˆãƒ«ã¨ã®é–“ã§æœ€ã‚‚é¡ä¼¼åº¦ãŒé«˜ã„ã‚‚ã®ã‚’æ¢ã—ã€ãã‚Œã‚‰ã®ã‚¹ã‚³ã‚¢ã‚’å¹³å‡ã—ã¦æœ€çµ‚çš„ãªé–¢é€£åº¦ã‚¹ã‚³ã‚¢ã¨ã—ã¾ã™ã€‚ $$Score_{multi}(q, p) = frac{1}{|q|} sum_{i=1}^{|q|} max_{j=1}^{|p|} text{sim}(V_{q,i}, V_{p,j})$$ ã“ã‚Œã‚‰3ã¤ã®æ‰‹æ³•ã‚’ç”¨ã„ã‚‹ã“ã¨ã§é«˜ã„æ¤œç´¢ç²¾åº¦ã‚’é”æˆã—ã¦ã„ã¾ã™ã€‚è«–æ–‡ã«ã‚ˆã‚‹ã¨ã€å„ã‚¹ã‚³ã‚¢ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«è¶³ã—åˆã‚ã›ã¾ã™ã€‚ $$Score_{hybrid}(q, p) = lambda_1 Score_{dense} + lambda_2 Score_{lex} + lambda_3 Score_{multi}$$ è«–æ–‡ã«ã‚ˆã‚‹ã¨ã€$lambda_2$ ã¨ $lambda_3$ ã¯å°‘ã—ä¸‹ã’ã¦ã„ã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚ å­¦ç¿’æˆ¦ç•¥ è‡ªå·±çŸ¥è­˜è’¸ç•™ (Self-Knowledge Distillation) 3ã¤ã®ç•°ãªã‚‹æ¤œç´¢æ‰‹æ³•ã®å­¦ç¿’ç›®æ¨™ã¯äº’ã„ã«ç«¶åˆã—ã†ã‚‹ãŸã‚ã€å˜ç´”ãªãƒãƒ«ãƒã‚¿ã‚¹ã‚¯å­¦ç¿’ã§ã¯æ€§èƒ½ãŒä½ä¸‹ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã€BGE-M3ã¯è‡ªå·±çŸ¥è­˜è’¸ç•™ã¨ã„ã†ç‹¬è‡ªã®æ‰‹æ³•ã‚’ææ¡ˆã—ã¾ã™ã€‚ ã“ã‚Œã¯ã€3ã¤ã®æ‰‹æ³•ã®ã‚¹ã‚³ã‚¢ã‚’çµ±åˆã—ã¦ç”Ÿæˆã—ãŸã€ã‚ˆã‚Šè³¢æ˜ãªã€Œæ•™å¸«ã€ã‚¹ã‚³ã‚¢ã‚’ãƒ¢ãƒ‡ãƒ«è‡ªèº«ãŒä½œã‚Šå‡ºã—ã€å„æ‰‹æ³•ãŒãã®æ•™å¸«ã‹ã‚‰å”èª¿çš„ã«å­¦ç¿’ã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚ å›³2: è«–æ–‡ã®å›³2ã«ã‚ã‚‹è‡ªå·±çŸ¥è­˜è’¸ç•™ã®ãƒ—ãƒ­ã‚»ã‚¹ ã“ã®æ‰‹æ³•ã®é‡è¦æ€§ã¯å®Ÿé¨“çµæœã«ã‚‚æ˜ç¢ºã«è¡¨ã‚Œã¦ãŠã‚Šã€è‡ªå·±çŸ¥è­˜è’¸ç•™ã‚’ç”¨ã„ãªã„å ´åˆã€ç‰¹ã«Lexical Retrievalã®æ€§èƒ½ãŒè‘—ã—ãä½ä¸‹ï¼ˆnDCG@10ã‚¹ã‚³ã‚¢ãŒ53.9â†’36.7ï¼‰ã—ã¾ã™ã€‚ å®Ÿé¨“ã¨è©•ä¾¡ BGE-M3ã®æœ‰åŠ¹æ€§ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã€å¤šè¨€èªæ¤œç´¢ã€ã‚¯ãƒ­ã‚¹ãƒªãƒ³ã‚¬ãƒ«æ¤œç´¢ã€é•·æ–‡æ¤œç´¢ã®3ã¤ã®ã‚¿ã‚¹ã‚¯ã§åºƒç¯„ãªè©•ä¾¡ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚ å¤šè¨€èªæ¤œç´¢: MIRACLãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§æ—¢å­˜ãƒ¢ãƒ‡ãƒ«ã‚’å¤§å¹…ã«ä¸Šå›ã‚‹æ€§èƒ½ã‚’ç¤ºã—ã¾ã—ãŸã€‚ ã‚¯ãƒ­ã‚¹ãƒªãƒ³ã‚¬ãƒ«æ¤œç´¢: MKQAãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã§ã‚‚é«˜ã„æ€§èƒ½ã‚’ç¶­æŒã—ã€ä½ãƒªã‚½ãƒ¼ã‚¹è¨€èªã§ã‚‚å®‰å®šã—ãŸæ€§èƒ½ã‚’ç™ºæ®ã—ã¾ã™ã€‚ é•·æ–‡æ¤œç´¢: MLDRãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãŠã‚ˆã³NarrativeQAã«ãŠã„ã¦ã€ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰æ¤œç´¢ã«ã‚ˆã‚‹è‘—ã—ã„æ€§èƒ½å‘ä¸ŠãŒè¦‹ã‚‰ã‚Œã¾ã—ãŸã€‚ç‰¹ã«é•·æ–‡ã‚¿ã‚¹ã‚¯ã§ã¯ã€Sparse RetrievalãŒé‡è¦ãªå½¹å‰²ã‚’æœãŸã—ã¦ã„ã¾ã™ã€‚ Ablation Study (ã‚¢ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ãƒ‡ã‚£) ãƒ¢ãƒ‡ãƒ«ã®å„è¦ç´ ã®è²¢çŒ®åº¦ã‚’èª¿æŸ»ã™ã‚‹ãŸã‚ã€ã‚¢ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ãƒ‡ã‚£ãŒå®Ÿæ–½ã•ã‚Œã¾ã—ãŸã€‚ç‰¹ã«è‡ªå·±çŸ¥è­˜è’¸ç•™ã‚’é™¤å»ã™ã‚‹ã¨ã€ç‰¹ã«Sparse Retrievalã®æ€§èƒ½ãŒè‘—ã—ãä½ä¸‹ã—ï¼ˆ53.9â†’36.7ï¼‰ã€ç•°ãªã‚‹æ‰‹æ³•é–“ã®ç›®çš„ã®ç«¶åˆã‚’ç·©å’Œã™ã‚‹ä¸Šã§è‡ªå·±çŸ¥è­˜è’¸ç•™ãŒä¸å¯æ¬ ã§ã‚ã‚‹ã“ã¨ãŒç¤ºã•ã‚Œã¾ã—ãŸã€‚ã“ã®çµæœã¯ã€è«–æ–‡ã®Table 2ã§è©³ç´°ã«ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ å›³3: è«–æ–‡ã®Table 5ã«ã‚ã‚‹ã‚¢ãƒ–ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¿ãƒ‡ã‚£ã®çµæœ çµè«– BGE-M3ã®å“è¶Šã—ãŸæ¤œç´¢ç²¾åº¦ã¯ã€å˜ä¸€ã®æ‰‹æ³•ãŒå„ªã‚Œã¦ã„ã‚‹ã‹ã‚‰ã§ã¯ãªãã€è‡ªå·±çŸ¥è­˜è’¸ç•™ã«ã‚ˆã£ã¦3ã¤ã®ç•°ãªã‚‹æ¤œç´¢ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚’ç›¸ä¹—åŠ¹æœãŒç”Ÿã¾ã‚Œã‚‹å½¢ã§å·§ã¿ã«çµ±åˆã—ã¦ã„ã‚‹ç‚¹ã«ã‚ã‚Šã¾ã™ã€‚ã“ã®é©æ–°çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€ãƒ†ã‚­ã‚¹ãƒˆåŸ‹ã‚è¾¼ã¿ãƒ¢ãƒ‡ãƒ«ã®æ–°ãŸãªå¯èƒ½æ€§ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚ å¼•ç”¨ Shitao Xiao, Peitian Zhang, Zheng Liu, Xingyu He, Shihan Dou, Yuxuan Wang, Yajing Xu, Huangcan Li, Chao Zhang, and Jiangui Chen. 2024. BGE M3: Embedding Everything in a Single Model. arXiv preprint arXiv:2402.03216."
},

{
  "title": "LightRAGã¨HNSWã®æŠ€è¡“è§£èª¬ãƒ¡ãƒ¢",
  "url": "/articles/LightRAG/LightRAG.html",
  "date": "2025.08.13",
  "description": "LightRAGã¨HNSWã®ä»•çµ„ã¿ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’è§£èª¬ã—ãŸãƒ¡ãƒ¢ã€‚",
  "content": "ã“ã®ãƒ¡ãƒ¢ã¯ã€æ¬¡ä¸–ä»£RAGãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒLightRAGã€ã¨ã€ãã®ä¸­æ ¸ã‚’ãªã™é«˜é€Ÿãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢æŠ€è¡“ã€ŒHNSWã€ã®ä»•çµ„ã¿ã«ã¤ã„ã¦ã€å€‹äººçš„ã«ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚ 1. LightRAGã®å…¨ä½“åƒã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ 1.1. å¾“æ¥ã®RAGãŒæŠ±ãˆã‚‹èª²é¡Œã¨LightRAGã®è§£æ±ºç­– å¾“æ¥ã®RAGï¼ˆæ¤œç´¢æ‹¡å¼µç”Ÿæˆï¼‰ã¯ã€æƒ…å ±ã‚’å˜ãªã‚‹ãƒ†ã‚­ã‚¹ãƒˆã®å¡Šï¼ˆãƒãƒ£ãƒ³ã‚¯ï¼‰ã¨ã—ã¦æ‰±ã†ãŸã‚ã€ä»¥ä¸‹ã®ã‚ˆã†ãªèª²é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚ æƒ…å ±ã®æ–­ç‰‡åŒ–: è¤‡æ•°ã®æ–‡æ›¸ã«ã¾ãŸãŒã‚‹è¤‡é›‘ãªè³ªå•ã«å¯¾ã—ã€æ–‡è„ˆãŒé€”åˆ‡ã‚ŒãŸæ–­ç‰‡çš„ãªå›ç­”ã—ã‹ç”Ÿæˆã§ããªã„ã€‚ é–¢ä¿‚æ€§ã®æ¬ å¦‚: ã€ŒAç¤¾ãŒBç¤¾ã‚’è²·åã—ãŸã€ã¨ã€ŒBç¤¾ã®å‰µè¨­è€…ã¯ç”°ä¸­æ°ã€ã¨ã„ã†2ã¤ã®æƒ…å ±ã‹ã‚‰ã€ã€ŒAç¤¾ãŒç”°ä¸­æ°ã‚’è¿ãˆå…¥ã‚ŒãŸã€ã¨ã„ã†é–¢ä¿‚æ€§ã‚’å°ãå‡ºã™ã“ã¨ãŒå›°é›£ã€‚ LightRAGã¯ã€ã“ã®èª²é¡Œã‚’ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ã‚’ç”¨ã„ã¦è§£æ±ºã—ã¾ã™ã€‚ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆãƒãƒ¼ãƒ‰ï¼‰ã¨é–¢ä¿‚æ€§ï¼ˆã‚¨ãƒƒã‚¸ï¼‰ã‚’æŠ½å‡ºã—ã€ã€Œæ„å‘³ã®åœ°å›³ã€ã¨ã—ã¦æ§‹é€ åŒ–ã™ã‚‹ã“ã¨ã§ã€æ·±ã„æ–‡è„ˆç†è§£ã¨ä¸€è²«æ€§ã®ã‚ã‚‹å›ç­”ç”Ÿæˆã‚’å¯èƒ½ã«ã—ã¾ã™ã€‚ 1.2. LightRAGã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼š2ã¤ã®é ­è„³ã®é€£æº LightRAGã¯ã€å½¹å‰²ã®ç•°ãªã‚‹2ã¤ã®ä¸»è¦ãªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ï¼ˆé ­è„³ï¼‰ã‚’é€£æºã•ã›ã¦å‹•ä½œã—ã¾ã™ã€‚ä»¥ä¸‹ã®å›³ã¯ã€ãã®å…¨ä½“æ§‹é€ ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚ å›³1: LightRAGã®æ§‹é€  ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ãƒ»ã‚¹ãƒˆã‚¢ (Knowledge Graph Store) å½¹å‰²: ã€Œæ„å‘³ã‚’ç†è§£ã™ã‚‹è„³ã€ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒãƒ¼ãƒ‰ï¼ˆä¾‹: Aç¤¾ï¼‰ã€ã‚¨ãƒƒã‚¸ï¼ˆä¾‹: è²·åã—ãŸï¼‰ã€ãã—ã¦ãã‚Œã‚‰ã®æ§‹é€ çš„ãªã¤ãªãŒã‚Šã‚’ä¿æŒã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿é–“ã®è«–ç†çš„ãªé–¢ä¿‚æ€§ã‚’ç®¡ç†ã™ã‚‹å½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚ æ§‹é€ : ã“ã®ã‚°ãƒ©ãƒ•è‡ªä½“ã¯éšå±¤åŒ–ã•ã‚Œã¦ãŠã‚‰ãšã€å˜ä¸€ã§ãƒ•ãƒ©ãƒƒãƒˆãªãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ§‹é€ ã§ã™ã€‚ ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ (Vector Database) å½¹å‰²: ã€Œè¶…é«˜é€Ÿãªåå°„ç¥çµŒã€ã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•å†…ã®å„è¦ç´ ï¼ˆãƒãƒ¼ãƒ‰ã‚„ã‚¨ãƒƒã‚¸ã®èª¬æ˜æ–‡ãªã©ï¼‰ã‚’ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã—ã¦ä¿å­˜ã—ã€é«˜é€Ÿãªé¡ä¼¼æ¤œç´¢ã‚’å®Ÿç¾ã—ã¾ã™ã€‚ å†…è”µã‚¨ãƒ³ã‚¸ãƒ³: ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®å†…éƒ¨ã«ã¯ã€æ¤œç´¢ã‚’é«˜é€ŸåŒ–ã™ã‚‹ãŸã‚ã®ç´¢å¼•ï¼ˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼‰æŠ€è¡“ã¨ã—ã¦HNSWãŒçµ„ã¿è¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚ 1.3. LightRAGã®å‹•ä½œãƒ•ãƒ­ãƒ¼â‘ ï¼šãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ã®æ§‹ç¯‰ LightRAGã¯ã€ä»¥ä¸‹ã®ã‚¹ãƒ†ãƒƒãƒ—ã§éæ§‹é€ åŒ–ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚ æŠ½å‡º (Extraction): LLMã‚’ä½¿ã„ã€ãƒ†ã‚­ã‚¹ãƒˆã‹ã‚‰ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼ˆäººç‰©ã€çµ„ç¹”ãªã©ï¼‰ã¨ã€ãã‚Œã‚‰ã®é–“ã®é–¢ä¿‚æ€§ã‚’æŠ½å‡ºã—ã¾ã™ã€‚ ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚° (Profiling): æŠ½å‡ºã—ãŸå„ãƒãƒ¼ãƒ‰ã¨ã‚¨ãƒƒã‚¸ã«å¯¾ã—ã€LLMãŒæ¤œç´¢ç”¨ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚„è¦ç´„æ–‡ã‚’ä»˜ä¸ã—ã¾ã™ã€‚ã“ã®æƒ…å ±ãŒãƒ™ã‚¯ãƒˆãƒ«åŒ–ã•ã‚Œã€ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ é‡è¤‡æ’é™¤ (Deduplication): æ–°ã—ãæŠ½å‡ºã•ã‚ŒãŸã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒæ—¢å­˜ã®ã‚‚ã®ã¨åŒä¸€ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚åŒä¸€ã§ã‚ã‚Œã°ã€æ–°ã—ã„ãƒãƒ¼ãƒ‰ã¯ä½œã‚‰ãšã€æ—¢å­˜ã®ãƒãƒ¼ãƒ‰ã«æƒ…å ±ã‚’çµ±åˆã—ã¾ã™ã€‚ã“ã®åˆ¤å®šã«ã¯ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®æ­£è¦åŒ–ã•ã‚ŒãŸåå‰ãªã©ã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹ãƒãƒƒã‚·ãƒ¥å€¤ãŒIDã¨ã—ã¦ç”¨ã„ã‚‰ã‚Œã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚ 1.4. LightRAGã®å‹•ä½œãƒ•ãƒ­ãƒ¼â‘¡ï¼šãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ¬ãƒ™ãƒ«æ¤œç´¢ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®è³ªå•ã«ç­”ãˆã‚‹éš›ã€LightRAGã¯ç‹¬è‡ªã®ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ¬ãƒ™ãƒ«æ¤œç´¢ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã‚’ç”¨ã„ã¾ã™ã€‚ ä½ãƒ¬ãƒ™ãƒ«æ¤œç´¢ (Low-Level Retrieval): ã€ŒAç¤¾ã®CEOã¯èª°ï¼Ÿã€ã®ã‚ˆã†ãªã€å…·ä½“çš„ãªã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«é–¢ã™ã‚‹è³ªå•ã«å¯¾å¿œã—ã¾ã™ã€‚è³ªå•ã‹ã‚‰ã€ŒAç¤¾ã€ã€ŒCEOã€ã¨ã„ã£ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’æŠ½å‡ºã—ã€ç‰¹å®šã®ãƒãƒ¼ãƒ‰ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«æ¤œç´¢ã‚’è¡Œã„ã¾ã™ã€‚ é«˜ãƒ¬ãƒ™ãƒ«æ¤œç´¢ (High-Level Retrieval): ã€Œè¿‘å¹´ã®AIæ¥­ç•Œã®å‹•å‘ã¯ï¼Ÿã€ã®ã‚ˆã†ãªã€åºƒç¯„ã§æŠ½è±¡çš„ãªãƒ†ãƒ¼ãƒã«é–¢ã™ã‚‹è³ªå•ã«å¯¾å¿œã—ã¾ã™ã€‚ã€ŒAIæ¥­ç•Œã€ã€Œå‹•å‘ã€ã¨ã„ã£ãŸã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰ã€è¤‡æ•°ã®ãƒãƒ¼ãƒ‰ã‚„ã‚¨ãƒƒã‚¸ï¼ˆé–¢ä¿‚æ€§ï¼‰ã‚’æ¨ªæ–­çš„ã«æ¤œç´¢ã—ã€å…¨ä½“çš„ãªæ–‡è„ˆã‚’æ‰ãˆã¾ã™ã€‚ ã“ã®2ã¤ã®æ¤œç´¢ã¯ã€ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆä¾‹: type='node', type='edge'ï¼‰ã‚’åˆ©ç”¨ã—ã¦åŠ¹ç‡çš„ã«ï¼ˆå¤šãã®å ´åˆã€éåŒæœŸã§ï¼‰å®Ÿè¡Œã•ã‚Œã€å¾—ã‚‰ã‚ŒãŸçµæœã‚’ãƒŠãƒ¬ãƒƒã‚¸ã‚°ãƒ©ãƒ•ä¸Šã§çµ±åˆã—ã€æœ€çµ‚çš„ãªå›ç­”ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ 2. ä¸­æ ¸æŠ€è¡“HNSWï¼šé«˜é€Ÿæ¤œç´¢ã®å¿ƒè‡“éƒ¨ HNSW (Hierarchical Navigable Small World) ã¯ã€è†¨å¤§ãªãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ã®ä¸­ã‹ã‚‰ã€ç›®çš„ã®ãƒ™ã‚¯ãƒˆãƒ«ã«æœ€ã‚‚è¿‘ã„ã‚‚ã®ã‚’é«˜é€Ÿã«è¦‹ã¤ã‘å‡ºã™ãŸã‚ã®ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚ 2.1. éšå±¤åŒ–ã®ä»•çµ„ã¿ï¼šãƒ©ãƒ³ãƒ€ãƒ æ€§ã“ããŒéµ HNSWã®æœ€å¤§ã®ç‰¹å¾´ã¯ã€ãã®å·§å¦™ãªéšå±¤åŒ–ã®ä»•çµ„ã¿ã§ã™ã€‚ä»¥ä¸‹ã®å›³ã¯ã€ãã®éšå±¤æ§‹é€ ã‚’æ¨¡å¼çš„ã«ç¤ºã—ã¦ã„ã¾ã™ã€‚ å›³2: HNSWã®éšå±¤æ§‹é€  éšå±¤æ±ºå®šã¯å®Œå…¨ã«ãƒ©ãƒ³ãƒ€ãƒ : æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ç‚¹ãŒè¿½åŠ ã•ã‚Œã‚‹ãŸã³ã«ã€ãã®ç‚¹ãŒã©ã®éšå±¤ã¾ã§æ‰€å±ã™ã‚‹ã‹ã¯ã€ãã®ãƒ‡ãƒ¼ã‚¿ã®å†…å®¹ã‚„é‡è¦åº¦ã¨ã¯ä¸€åˆ‡é–¢ä¿‚ãªãã€ã‚µã‚¤ã‚³ãƒ­ã‚’æŒ¯ã‚‹ã‚ˆã†ã«ãƒ©ãƒ³ãƒ€ãƒ ãªç¢ºç‡ã§æ±ºã¾ã‚Šã¾ã™ã€‚éšå±¤ãŒä¸ŠãŒã‚‹ã»ã©ã€ãã®éšå±¤ã«æ‰€å±ã™ã‚‹ç¢ºç‡ã¯æŒ‡æ•°é–¢æ•°çš„ã«ä½ããªã‚Šã¾ã™ã€‚ éšå±¤æ§‹é€ ã®å½¹å‰²: ã“ã®ãƒ©ãƒ³ãƒ€ãƒ æ€§ã«ã‚ˆã‚Šã€è‡ªç„¶ã¨åŠ¹ç‡çš„ãªéšå±¤æ§‹é€ ãŒç”Ÿã¾ã‚Œã¾ã™ã€‚ ä¸Šä½éšå±¤: ãƒ¡ãƒ³ãƒãƒ¼ãŒéå¸¸ã«å°‘ãªã„ãŸã‚ã€ãƒ‡ãƒ¼ã‚¿ç©ºé–“å…¨ä½“ã‚’æ¨ªæ–­ã™ã‚‹ã€Œé«˜é€Ÿé“è·¯ã€ã®ã‚ˆã†ãªé•·è·é›¢ãƒªãƒ³ã‚¯ãŒå½¢æˆã•ã‚Œã¾ã™ã€‚ ä¸‹ä½éšå±¤ (0éš): å…¨ã¦ã®ãƒ¡ãƒ³ãƒãƒ¼ãŒæ‰€å±ã™ã‚‹ãŸã‚ã€ã€Œä¸€èˆ¬é“ã€ã®ã‚ˆã†ãªçŸ­è·é›¢ãƒªãƒ³ã‚¯ãŒå¯†é›†ã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒå½¢æˆã•ã‚Œã¾ã™ã€‚ 2.2. æ¢ç´¢ã®ä»•çµ„ã¿ã¨æ–°è¦ãƒ‡ãƒ¼ã‚¿è¿½åŠ  HNSWã¯ã€ã“ã®éšå±¤æ§‹é€ ã‚’æ´»ã‹ã—ã¦ã€ä»¥ä¸‹ã®æ‰‹é †ã§æ¢ç´¢ã‚’è¡Œã„ã¾ã™ã€‚ æœ€ä¸Šä½ã‹ã‚‰é–‹å§‹: æ¢ç´¢ã¯ã€æœ€ã‚‚ã¾ã°ã‚‰ãªæœ€ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã€Œã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆã€ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ã€‚ è²ªæ¬²ãªæ¢ç´¢ (Greedy Traversal): ç¾åœ¨ã„ã‚‹ãƒãƒ¼ãƒ‰ã‹ã‚‰ã€ãƒªãƒ³ã‚¯ã§ç¹‹ãŒã£ã¦ã„ã‚‹éš£äººã®ä¸­ã§ã€æœ€ã‚‚ã‚¯ã‚¨ãƒªï¼ˆæ¢ã—ãŸã„ãƒ‡ãƒ¼ã‚¿ï¼‰ã«è¿‘ã„éš£äººã¸ã¨ç§»å‹•ã—ã¾ã™ã€‚ã“ã®è¨ˆç®—ã«ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆãƒ™ã‚¯ãƒˆãƒ«ã®å ´åˆã€ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ãŒä¸€èˆ¬çš„ã«ç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚ ä¸‹ã®éšå±¤ã¸: ãã®ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã€Œã“ã‚Œä»¥ä¸Šè¿‘ã¥ã‘ãªã„ã€ã¨ã„ã†å±€æ‰€çš„ãªæœ€é©è§£ã«é”ã—ãŸã‚‰ã€ãã®åœ°ç‚¹ã‚’æ–°ã—ã„é–‹å§‹ç‚¹ã¨ã—ã¦ã€ä¸€ã¤ä¸‹ã®ã€ã‚ˆã‚Šå¯†ãªãƒ¬ã‚¤ãƒ¤ãƒ¼ã«é™ã‚Šã¦æ¢ç´¢ã‚’ç¶šã‘ã¾ã™ã€‚ ç¹°ã‚Šè¿”ã—: ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’æœ€ä¸‹å±¤ï¼ˆ0éšï¼‰ã¾ã§ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€æœ€çµ‚çš„ãªæ¤œç´¢çµæœã‚’å¾—ã¾ã™ã€‚ ã¾ãŸã€HNSWã¯å¢—åˆ†æ›´æ–°ãŒå¯èƒ½ã§ã€æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚ŒãŸéš›ã‚‚ã€ã“ã®æ¢ç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ã£ã¦è‡ªèº«ã®æœ€é©ãªå ´æ‰€ã‚’è¦‹ã¤ã‘å‡ºã—ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚¹ãƒ ãƒ¼ã‚ºã«çµ±åˆã•ã‚Œã¾ã™ã€‚ 3. å€‹äººçš„ã«æ°—ã«ãªã£ãŸç–‘å•ã¨å›ç­” ã“ã“ã§ã¯ã€ç§ãŒHNSWã«é–¢ã—ã¦æŠ±ã„ãŸç–‘å•ã¨ãã®å›ç­”ã‚’ã¾ã¨ã‚ã¾ã™ã€‚ Q: HNSWã®ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒã€Œã‚³ã‚¢ãªå˜èªã€ã‚„ã€Œãƒã‚¤ãƒŠãƒ¼ãªå˜èªã€ã ã‘ã§æ§‹æˆã•ã‚ŒãŸå ´åˆã€æ¢ç´¢ã¯ã†ã¾ãã„ãã¾ã™ã‹ï¼Ÿ A: ã¯ã„ã€å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚éšå±¤ã¸ã®æ‰€å±ã¯ãƒ©ãƒ³ãƒ€ãƒ ã§ã‚ã‚Šã€å˜èªã®é‡è¦åº¦ã«ã¯ä¾å­˜ã—ã¾ã›ã‚“ã€‚ä¸Šä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å½¹å‰²ã¯ã€ãƒ‡ãƒ¼ã‚¿ç©ºé–“å…¨ä½“ã«ãƒãƒ©ãƒ³ã‚¹è‰¯ãã€Œã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆç¶²ï¼ˆé«˜é€Ÿé“è·¯ï¼‰ã€ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã™ã€‚ãã®ãŸã‚ã€æ§‹æˆè¦ç´ ãŒä½•ã§ã‚ã‚Œã€ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¯é ‘å¥ã«åƒãã¾ã™ã€‚ Q: æ¢ç´¢ä¸­ã«æ¥µæ‰€è§£ã«é™¥ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ A: æ¥µã‚ã¦é™¥ã‚Šã«ãã„è¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚ãã®ç†ç”±ã¯ã€â‘ éšå±¤æ±ºå®šã®ãƒ©ãƒ³ãƒ€ãƒ æ€§ã€â‘¡ãƒˆãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã®æ¢ç´¢æˆ¦ç•¥ã€ãã—ã¦æ¬¡ã«èª¬æ˜ã™ã‚‹â‘¢è³¢ã„éš£äººé¸ã³ã®ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¨ã„ã†3ã¤ã®ãƒ¡ã‚«ãƒ‹ã‚ºãƒ ãŒé€£æºã—ã¦æ©Ÿèƒ½ã™ã‚‹ãŸã‚ã§ã™ã€‚ Q: ã€Œå¤šæ§˜ãªæ–¹å‘ã«ã‚ã‚‹éš£äººã‚’é¸ã¶ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã€ã¨ã¯ï¼Ÿ A: ã“ã‚Œã¯ã€ãƒªãƒ³ã‚¯ã®ã€Œæ•°ã€ã§ã¯ãªãã€Œè³ªã€ã¨ã€Œé…ç½®ã€ã‚’å·¥å¤«ã™ã‚‹ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚å˜ç´”ã«æœ€ã‚‚è¿‘ã„éš£äººã¨ã ã‘ãƒªãƒ³ã‚¯ã‚’çµã¶ã¨ã€ã™ã¹ã¦ã®ãƒªãƒ³ã‚¯ãŒåŒã˜ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã«é›†ä¸­ã—ã€æ¢ç´¢ãŒå­¤ç«‹ã™ã‚‹å±é™ºãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ãƒ’ãƒ¥ãƒ¼ãƒªã‚¹ãƒ†ã‚£ãƒƒã‚¯ã¯ã€ãŸã¨ãˆå°‘ã—è·é›¢ãŒé ãã¦ã‚‚ã€è‡ªåˆ†ã‹ã‚‰è¦‹ã¦å¤šæ§˜ãªæ–¹å‘ã«ã‚ã‚‹éš£äººã¨ãƒãƒ©ãƒ³ã‚¹è‰¯ããƒªãƒ³ã‚¯ã‚’çµã¶ã“ã¨ã‚’ä¿ƒã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼é–“ã«æ„å›³çš„ã«ã€Œæ©‹ã€ãŒæ¶ã‘ã‚‰ã‚Œã€æ¢ç´¢ãŒè¢‹å°è·¯ã«å…¥ã‚‹ã®ã‚’é˜²ãã¾ã™ã€‚ Q: å„ãƒãƒ¼ãƒ‰ã®IDã¯ãƒãƒƒã‚·ãƒ¥å€¤ã§ã™ã‹ï¼Ÿ A: è«–æ–‡ã«ç›´æ¥ã®è¨˜è¼‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€LightRAGã®é‡è¦æ©Ÿèƒ½ã§ã‚ã‚‹ã€Œé‡è¤‡æ’é™¤ï¼ˆDeduplicationï¼‰ã€ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã«ã¯ã€IDãŒã€Œæ±ºå®šçš„ï¼ˆåŒã˜ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‹ã‚‰ã¯å¿…ãšåŒã˜IDãŒç”Ÿæˆã•ã‚Œã‚‹ï¼‰ã€ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®è¦ä»¶ã‚’æœ€ã‚‚æº€ãŸã™ã®ãŒãƒãƒƒã‚·ãƒ¥å€¤ã§ã™ã€‚ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®æ­£è¦åŒ–ã•ã‚ŒãŸåå‰ãªã©ã‹ã‚‰ãƒãƒƒã‚·ãƒ¥å€¤ã‚’è¨ˆç®—ã—ã€ãã‚Œã‚’ä¸€æ„ãªIDã¨ã—ã¦ä½¿ç”¨ã—ã¦ã„ã‚‹ã¨è€ƒãˆã‚‹ã®ãŒæœ€ã‚‚åˆç†çš„ã§ã™ã€‚ 4. å‚è€ƒæ–‡çŒ® LightRAG: Guo, Z., Xia, L., Yu, Y., Ao, T., & Huang, C. (2024). LightRAG: Simple and Fast Retrieval-Augmented Generation. arXiv preprint arXiv:2410.05779. HNSW: Malkov, Y. A., & Yashunin, D. A. (2018). Efficient and robust approximate nearest neighbor search using Hierarchical Navigable Small World graphs. IEEE transactions on pattern analysis and machine intelligence, 42(4), 824-836."
},

{
  "title": "æŠ€è¡“ãƒ¡ãƒ¢ï¼šTransformerã®ä½ç½®ç¬¦å·ï¼ˆPositional Encodingï¼‰ã«ã¤ã„ã¦",
  "url": "/articles/transformer-positional/transformer-positional.html",
  "date": "2025.08.13",
  "description": "Transformerã®ä½ç½®ç¬¦å·ã®é‡è¦æ€§ã¨è¨ˆç®—æ–¹æ³•ã‚’è§£èª¬ã—ãŸãƒ¡ãƒ¢ã€‚",
  "content": "ã¯ã˜ã‚ã«ï¼šæœ¬è¨˜äº‹ã«ã¤ã„ã¦ Transformerãƒ¢ãƒ‡ãƒ«ã®å†…éƒ¨ã§ä½¿ç”¨ã•ã‚Œã‚‹ä½ç½®ç¬¦å·ï¼ˆPositional Encodingï¼‰ã«ã¤ã„ã¦ã€ç§ãŒç†è§£ã—ãŸå†…å®¹ã‚’ã¾ã¨ã‚ã¾ã™ã€‚ç‰¹ã«ã€ä½ç½®ç¬¦å·ã®è¨ˆç®—æ–¹æ³•ã‚„ãã®èƒŒå¾Œã«ã‚ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã‚’æ·±ãæ˜ã‚Šä¸‹ã’ã¦è§£èª¬ã—ã¾ã™ã€‚ ãã‚Œãã‚Œã‚¤ãƒ³ãƒ—ãƒƒãƒˆã«å¯¾ã—ã¦ã€ä½ç½®ç¬¦å·ã‚’ã©ã®ã‚ˆã†ã«è¨ˆç®—ã™ã‚‹ã‹ã‚’å…·ä½“çš„ã«è¦‹ã¦ã„ãã¾ã™ã€‚ å›³1: Transformerã®æ§‹é€  input encoding, output encodingã®å¾Œã®å‡¦ç†ã§ã‚ã‚‹positional encodingã®éƒ¨åˆ†ã®å‡¦ç†ã«ã¤ã„ã¦ã§ã™ã€‚ ãªãœä½ç½®ç¬¦å·ãŒå¿…è¦ãªã®ã‹ï¼Ÿ Transformerãƒ¢ãƒ‡ãƒ«ã®å¿ƒè‡“éƒ¨ã§ã‚ã‚‹Self-Attentionã¯ã€æ–‡ä¸­ã®å˜èªåŒå£«ã®é–¢é€£åº¦ã‚’è¨ˆç®—ã™ã‚‹éå¸¸ã«å¼·åŠ›ãªä»•çµ„ã¿ã§ã™ã€‚ã—ã‹ã—ã€ãã®è¨ˆç®—éç¨‹ã§å˜èªã®å…ƒã®é †åºãŒå¤±ã‚ã‚Œã¦ã—ã¾ã†ã¨ã„ã†å¤§ããªå¼±ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€ã€ŒçŠ¬ãŒçŒ«ã‚’è¿½ã„ã‹ã‘ãŸã€ã¨ã€ŒçŒ«ãŒçŠ¬ã‚’è¿½ã„ã‹ã‘ãŸã€ã§ã¯æ„å‘³ãŒå…¨ãç•°ãªã‚Šã¾ã™ãŒã€Self-Attentionã«ã¨ã£ã¦ã¯ã€å˜ã«ã€ŒçŠ¬ã€çŒ«ã€è¿½ã„ã‹ã‘ãŸã€ãŒã€ã‚’ã€ã¨ã„ã†å˜èªã®é›†åˆã«è¦‹ãˆã¦ã—ã¾ã„ã€åŒºåˆ¥ãŒã¤ãã¾ã›ã‚“ã€‚ ã“ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã®ãŒä½ç½®ç¬¦å·ï¼ˆPositional Encodingï¼‰ã§ã™ã€‚ãã®ç›®çš„ã¯ã€å…¥åŠ›ã•ã‚Œã‚‹å„å˜èªã®ãƒ™ã‚¯ãƒˆãƒ«ã«å¯¾ã—ã€æ–‡ç« ä¸­ã«ãŠã‘ã‚‹ãã®å˜èªã®ã€Œä½æ‰€ã€ã‚„ã€Œä½ç½®ã€ã«é–¢ã™ã‚‹æƒ…å ±ã‚’ã€æ•°å­¦çš„ã«åŸ‹ã‚è¾¼ã‚€ã“ã¨ã§ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Transformerã¯å˜èªã®æ„å‘³ã ã‘ã§ãªãã€ãã®é †åºã‚‚ç†è§£ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ ç¬¬1ç« ï¼šä½ç½®ç¬¦å·ã®è¨ˆç®—æ–¹æ³• 1.1 è¨ˆç®—å¼ ä½ç½®ç¬¦å·ã¯ã€æ–‡ç« ä¸­ã®å˜èªã®ä½ç½®ã‚’ $pos$ ï¼ˆ0ã‹ã‚‰å§‹ã¾ã‚‹ç•ªå·ï¼‰ã€ãƒ¢ãƒ‡ãƒ«ãŒæ‰±ã†ãƒ™ã‚¯ãƒˆãƒ«ã®æ¬¡å…ƒæ•°ã‚’ $d_{model}$ ã¨ã—ãŸã¨ãã€ãƒ™ã‚¯ãƒˆãƒ«ã®å„æ¬¡å…ƒ $i$ ã«å¯¾ã—ã¦ä»¥ä¸‹ã®å¼ã§è¨ˆç®—ã•ã‚Œã¾ã™ã€‚ å¶æ•°æ¬¡å…ƒ ($2i$) ã®å ´åˆ: $PE_{(pos, 2i)} = \\sin\\left(\\frac{pos}{10000^{2i/d_{\\text{model}}}}\\right)$ å¥‡æ•°æ¬¡å…ƒ ($2i+1$) ã®å ´åˆ: $PE_{(pos, 2i+1)} = \\cos\\left(\\frac{pos}{10000^{2i/d_{\\text{model}}}}\\right)$ ã“ã®è¨ˆç®—ã«ã‚ˆã£ã¦ã€å„ä½ç½® $pos$ ã”ã¨ã«ã€$d_{model}$ æ¬¡å…ƒã®ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªãƒ™ã‚¯ãƒˆãƒ«ï¼ˆä½ç½®ç¬¦å·ãƒ™ã‚¯ãƒˆãƒ«ï¼‰ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚æœ€çµ‚çš„ã«ã€ã“ã®ä½ç½®ç¬¦å·ãƒ™ã‚¯ãƒˆãƒ«ãŒã€å…ƒã®å˜èªã®æ„å‘³ã‚’è¡¨ã™ãƒ™ã‚¯ãƒˆãƒ«ï¼ˆå˜èªåŸ‹ã‚è¾¼ã¿ï¼‰ã«è¶³ã—ç®—ã•ã‚Œã¾ã™ã€‚ 1.2 å…·ä½“ä¾‹ã§å­¦ã¶è¨ˆç®—ã‚¹ãƒ†ãƒƒãƒ— ($d_{model}=4$ã®å ´åˆ) æ–‡ç« ã€Œç§ã¯ çŒ«ãŒ å¥½ãã€ã§ã€2ç•ªç›®ã®å˜èªã€ŒçŒ«ã€($pos=1$)ã®ä½ç½®ç¬¦å·ã‚’è¨ˆç®—ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ ãƒ™ã‚¯ãƒˆãƒ«ã®æ¬¡å…ƒæ•° ($d_{model}$): 4æ¬¡å…ƒ æ¬¡å…ƒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ ($i$): $d_{model}/2 = 2$ ãªã®ã§ã€ $i=0$ ã¨ $i=1$ ã®2ã¤ã®ãƒšã‚¢ã‚’è€ƒãˆã¾ã™ã€‚ â‘  i=0ã®ãƒšã‚¢ï¼ˆ0æ¬¡å…ƒç›®, 1æ¬¡å…ƒç›®ï¼‰ã®è¨ˆç®— åˆ†æ¯: $10000^{2 \\times 0 / 4} = 10000^0 = 1$ 0æ¬¡å…ƒç›®(å¶æ•°): $PE_{(1, 0)} = \\sin(1/1) = \\sin(1) \\approx 0.841$ 1æ¬¡å…ƒç›®(å¥‡æ•°): $PE_{(1, 1)} = \\cos(1/1) = \\cos(1) \\approx 0.540$ â‘¡ i=1ã®ãƒšã‚¢ï¼ˆ2æ¬¡å…ƒç›®, 3æ¬¡å…ƒç›®ï¼‰ã®è¨ˆç®— åˆ†æ¯: $10000^{2 \\times 1 / 4} = 10000^{1/2} = 100$ 2æ¬¡å…ƒç›®(å¶æ•°): $PE_{(1, 2)} = \\sin(1/100) \\approx 0.010$ 3æ¬¡å…ƒç›®(å¥‡æ•°): $PE_{(1, 3)} = \\cos(1/100) \\approx 0.999$ â‘¢ çµæœã®çµåˆ ã€ŒçŒ«ã€($pos=1$)ã®ä½ç½®ç¬¦å·ãƒ™ã‚¯ãƒˆãƒ«ã¯ã€[0.841, 0.540, 0.010, 0.999]ã¨ãªã‚Šã¾ã™ã€‚åŒæ§˜ã«ã€ä»–ã®ä½ç½®ã®å˜èªã‚‚å…¨ãç•°ãªã‚‹ãƒ™ã‚¯ãƒˆãƒ«ãŒç”Ÿæˆã•ã‚Œã€ä½ç½®ã‚’åŒºåˆ¥ã§ãã¾ã™ã€‚ ç¬¬2ç« ï¼šãªãœã“ã®ä»•çµ„ã¿ãªã®ã‹ï¼Ÿ æ ¸å¿ƒæ¦‚å¿µã®æ·±æ˜ã‚Š ã“ã“ã‹ã‚‰ã¯ã€å¯¾è©±ã®ä¸­ã§ç”Ÿã¾ã‚ŒãŸç–‘å•ã¨ãã®ç­”ãˆã‚’é€šã—ã¦ã€ã“ã®æ•°å¼ã®è£ã«ã‚ã‚‹å·§ã¿ãªã‚¢ã‚¤ãƒ‡ã‚¢ã‚’è§£èª¬ã—ã¾ã™ã€‚ 2.1 ãªãœæ¬¡å…ƒã”ã¨ã«æ³¢ã‚’å¤‰ãˆã‚‹ã®ã‹ï¼Ÿ - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹iã®å½¹å‰² ã€ç–‘å•ã€‘ å„æ¬¡å…ƒã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ $i$ ã¯ä½•ã‚’æ„å‘³ã—ã¦ã„ã‚‹ã®ã‹ï¼Ÿ $i$ ã¯ã€ä½ç½®ç¬¦å·ãƒ™ã‚¯ãƒˆãƒ«ã‚’æ§‹æˆã™ã‚‹æ³¢ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆå‘¨æ³¢æ•°ï¼‰ã‚’å¤‰ãˆã‚‹ãŸã‚ã®ã€Œã‚¹ã‚¤ãƒƒãƒã€ã®å½¹å‰²ã‚’æ‹…ã£ã¦ã„ã¾ã™ã€‚ è¨ˆç®—å¼ã®åˆ†æ¯ $10000^{2i/d_{model}}$ ã«æ³¨ç›®ã™ã‚‹ã¨ã€$i$ ãŒå°ã•ã„ã»ã©åˆ†æ¯ã¯å°ã•ãï¼ˆ1ã«è¿‘ãï¼‰ã€$i$ ãŒå¤§ãã„ã»ã©åˆ†æ¯ã¯å¤§ãããªã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€sin/cosã®ä¸­èº«ã«å½±éŸ¿ã‚’ä¸ãˆã€çµæœã¨ã—ã¦æ³¢ã®æºã‚Œæ–¹ã‚’å¤‰ãˆã¾ã™ã€‚ $i$ ãŒå°ã•ã„æ¬¡å…ƒï¼ˆãƒ™ã‚¯ãƒˆãƒ«ã®å‰åŠï¼‰: æ³¢ã®æºã‚ŒãŒã‚†ã£ãã‚Šã«ãªã‚Šã¾ã™ï¼ˆä½å‘¨æ³¢ï¼‰ã€‚ã“ã‚Œã¯ã€æ–‡ç« å…¨ä½“ã«ãŠã‘ã‚‹å¤§å±€çš„ãªä½ç½®é–¢ä¿‚ã‚’æ‰ãˆã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚4æ¬¡å…ƒã®ä¾‹ã§ã¯ã€0æ¬¡å…ƒç›®ã¨1æ¬¡å…ƒç›®ãŒã“ã‚Œã«ã‚ãŸã‚Šã¾ã™ã€‚ $i$ ãŒå¤§ãã„æ¬¡å…ƒï¼ˆãƒ™ã‚¯ãƒˆãƒ«ã®å¾ŒåŠï¼‰: æ³¢ã®æºã‚ŒãŒé€Ÿããªã‚Šã¾ã™ï¼ˆé«˜å‘¨æ³¢ï¼‰ã€‚ã“ã‚Œã¯ã€éš£ã‚Šåˆã†å˜èªåŒå£«ã®ç´°ã‹ã„ã€å±€æ‰€çš„ãªä½ç½®é–¢ä¿‚ã‚’æ‰ãˆã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚4æ¬¡å…ƒã®ä¾‹ã§ã¯ã€2æ¬¡å…ƒç›®ã¨3æ¬¡å…ƒç›®ãŒã“ã‚Œã«ã‚ãŸã‚Šã¾ã™ã€‚ ã“ã‚Œã¯ã€æ§˜ã€…ãªæ¥½å™¨ãŒé‡ãªã£ã¦ä¸€ã¤ã®æ¥½æ›²ã‚’ä½œã‚‹ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ©ã«ä¼¼ã¦ã„ã¾ã™ã€‚ä½éŸ³æ‹…å½“ã®æ¥½å™¨ï¼ˆ$i$ ãŒå°ã•ã„ï¼‰ã¨é«˜éŸ³æ‹…å½“ã®æ¥½å™¨ï¼ˆ$i$ ãŒå¤§ãã„ï¼‰ãŒãã‚Œãã‚Œã®ãƒ¡ãƒ­ãƒ‡ã‚£ãƒ¼ã‚’å¥ã§ã‚‹ã“ã¨ã§ã€è±Šã‹ã§è¤‡é›‘ãªãƒãƒ¼ãƒ¢ãƒ‹ãƒ¼ï¼ˆä½ç½®æƒ…å ±ï¼‰ãŒç”Ÿã¾ã‚Œã‚‹ã®ã§ã™ã€‚ 2.2 ãªãœsinã¨cosã‚’ãƒšã‚¢ã«ã™ã‚‹ã®ã‹ï¼Ÿ - ã€Œå›è»¢ã€ã¨ã„ã†æœ€å¼·ã®ã‚¢ã‚¤ãƒ‡ã‚¢ ã€ç–‘å•ã€‘ ãƒšã‚¢ã«ã™ã‚‹ã“ã¨ã¨ã€Œå›è»¢ã€ã®é–¢ä¿‚æ€§ãŒã‚ã‹ã‚‰ãªã„ã€‚ãªãœãƒšã‚¢ã«ã™ã‚‹ã¨å›è»¢ã§ãã‚‹ã®ã‹ï¼Ÿ ã“ã®ç–‘å•ã®ç­”ãˆã“ãã€ä½ç½®ç¬¦å·ã®æœ€ã‚‚ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªéƒ¨åˆ†ã§ã™ã€‚ ãƒšã‚¢ã§ã€Œå††ã€ã‚’ä½œã‚‹: ã‚‚ã—1æ¬¡å…ƒã€ä¾‹ãˆã° $\\sin(pos)$ ã ã‘ã§ä½ç½®ã‚’è¡¨ãã†ã¨ã™ã‚‹ã¨ã€ãã®å€¤ã¯æ•°ç›´ç·šä¸Šã‚’è¡Œã£ãŸã‚Šæ¥ãŸã‚Šã™ã‚‹ã ã‘ã§ã€å‘ããŒä¸€å®šã—ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€$\\cos(pos)$ ã¨ $\\sin(pos)$ ã‚’ãƒšã‚¢ã§ä½¿ã†ã¨ã€ã“ã‚Œã¯2æ¬¡å…ƒå¹³é¢ä¸Šã®å††å‘¨ä¸Šã®ç‚¹ã®åº§æ¨™ (x, y) ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚$pos$ ãŒå¢—ãˆã‚‹ã“ã¨ã¯ã€ã“ã®å††å‘¨ä¸Šã‚’ç‚¹ãŒã‚¯ãƒ«ã‚¯ãƒ«ã¨å›è»¢ã™ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚ å›è»¢ã§ã€Œç›¸å¯¾ä½ç½®ã€ã‚’æ¸¬ã‚‹: ã“ã®ã€Œå›è»¢ã€ã¨ã„ã†æ€§è³ªã®ãŠã‹ã’ã§ã€ã‚ã‚‹ä½ç½® $pos$ ã‹ã‚‰ã€Œkå€‹éš£ã€ã®ä½ç½® $pos+k$ ã¸ã®ç§»å‹•ã¯ã€ã©ã® $pos$ ã‹ã‚‰å‡ºç™ºã—ã¦ã‚‚ã€å¸¸ã«åŒã˜è§’åº¦ã ã‘ã®å›è»¢æ“ä½œã¨ã—ã¦è¡¨ç¾ã§ãã¾ã™ã€‚ã“ã®å›è»¢æ“ä½œã¯ã€æ•°å­¦çš„ã«ã¯å›è»¢è¡Œåˆ— $R_k$ ã¨ã„ã†ã€Œç‰©å·®ã—ã€ã§è¡¨ã›ã¾ã™ã€‚ ã€ç†è§£ã®æ ¸å¿ƒã€‘ ãƒ¢ãƒ‡ãƒ«ãŒå­¦ç¿’ã™ã‚‹ã®ã¯ã€ã€Œä½ç½®2ã‹ã‚‰ä½ç½®3ã¸ã®è¡Œãæ–¹ã€ã‚„ã€Œä½ç½®8ã‹ã‚‰ä½ç½®9ã¸ã®è¡Œãæ–¹ã€ã¨ã„ã£ãŸç„¡æ•°ã®å€‹åˆ¥ã‚±ãƒ¼ã‚¹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ¢ãƒ‡ãƒ«ã¯ã€ã€Œ\"1ã¤éš£\"ã¨ã„ã†é–¢ä¿‚æ€§ã¯ã€ã“ã® $R_1$ ã¨ã„ã†ç‰©å·®ã—ï¼ˆå›è»¢æ“ä½œï¼‰ã‚’ä½¿ãˆã°æ¸¬ã‚Œã‚‹ã€ã¨ã„ã†ã€ãŸã£ãŸä¸€ã¤ã®æ™®éçš„ãªãƒ«ãƒ¼ãƒ«ã‚’å­¦ç¿’ã™ã‚Œã°è‰¯ã„ã®ã§ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ¢ãƒ‡ãƒ«ã¯æ–‡ã®é•·ã•ã‚„çµ¶å¯¾ä½ç½®ã«ä¾å­˜ã—ãªã„ã€éå¸¸ã«åŠ¹ç‡çš„ã§å¼·åŠ›ãªã€Œç›¸å¯¾ä½ç½®ã‚’èªè­˜ã™ã‚‹èƒ½åŠ›ã€ã‚’ç²å¾—ã—ã¾ã™ã€‚ 2.3 è¤‡æ•°ãƒšã‚¢ã¯ã©ã†å‹•ãã®ã‹ï¼Ÿ - ç‹¬ç«‹ã—ãŸä¸–ç•Œã§ã®ä¸¦åˆ—å‡¦ç† ã€ç–‘å•ã€‘ 4æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ã®å ´åˆã€2ãƒšã‚¢åˆ†ã®å›è»¢ãƒ™ã‚¯ãƒˆãƒ«ã‚’ã€ŒåŠ ãˆã‚‹ã€ã“ã¨ã§è¡¨ç¾ã™ã‚‹ã®ã‹ï¼Ÿ ã“ã‚Œã¯éå¸¸ã«é‹­ã„ç–‘å•ã§ã™ã€‚ç­”ãˆã¯ã€ŒåŠ ãˆã‚‹ã€ã®ã§ã¯ãªãã€ã€Œå„ãƒšã‚¢ãŒç‹¬ç«‹ã—ã¦å›è»¢ã—ã€ãã®çµæœã‚’ä¸¦ã¹ã¦çµåˆï¼ˆConcatenateï¼‰ã™ã‚‹ã€ã§ã™ã€‚ 4æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ã¯ã€2ã¤ã®ç‹¬ç«‹ã—ãŸã€Œ2æ¬¡å…ƒã®ä¸–ç•Œã€ã ã¨è€ƒãˆã¾ã™ã€‚ ä¸–ç•ŒA ($i=0$ ã®ãƒšã‚¢): å¤§å±€çš„ãªä½ç½®ã‚’æ¸¬ã‚‹ã€å‘¨æœŸã®é•·ã„ä¸–ç•Œã€‚ ä¸–ç•ŒB ($i=1$ ã®ãƒšã‚¢): å±€æ‰€çš„ãªä½ç½®ã‚’æ¸¬ã‚‹ã€å‘¨æœŸã®çŸ­ã„ä¸–ç•Œã€‚ ã€Œkå€‹éš£ã€ã¸ã®ç§»å‹•ã‚’è¨ˆç®—ã™ã‚‹ã¨ãã€ ä¸–ç•ŒAã®ä¸­ã§ã€å°‚ç”¨ã®ç‰©å·®ã— $R_k(i=0)$ ã‚’ä½¿ã£ã¦å›è»¢ãŒèµ·ã“ã‚‹ã€‚ ãã‚Œã¨ä¸¦è¡Œã—ã¦ã€å…¨ãç‹¬ç«‹ã«ã€ä¸–ç•ŒBã®ä¸­ã§ã‚‚å°‚ç”¨ã®ç‰©å·®ã— $R_k(i=1)$ ã‚’ä½¿ã£ã¦å›è»¢ãŒèµ·ã“ã‚‹ã€‚ æœ€çµ‚çš„ãª4æ¬¡å…ƒãƒ™ã‚¯ãƒˆãƒ«ã¯ã€ä¸–ç•ŒAã®å›è»¢å¾Œã®åº§æ¨™ã¨ã€ä¸–ç•ŒBã®å›è»¢å¾Œã®åº§æ¨™ã‚’ã€å˜ç´”ã«æ¨ªã«ä¸¦ã¹ã¦ä½œã‚‰ã‚Œã¾ã™ã€‚ ã“ã®ã€Œä¸¦åˆ—ãƒ»ç‹¬ç«‹å‡¦ç†ã€ã«ã‚ˆã‚Šã€å¤§å±€çš„ãªä½ç½®æƒ…å ±ã¨å±€æ‰€çš„ãªä½ç½®æƒ…å ±ã®ä¸¡æ–¹ã‚’å¤±ã†ã“ã¨ãªãã€4æ¬¡å…ƒã®ãƒ™ã‚¯ãƒˆãƒ«ã¨ã—ã¦ä¿ã¤ã“ã¨ãŒã§ãã‚‹ã®ã§ã™ã€‚ ç¬¬3ç« ï¼šä»–ã®æ¦‚å¿µã¨ã®é–¢é€£ã¨è£œè¶³ 3.1 ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ã¨ã®é–¢ä¿‚ - ã€Œæ€æƒ³ã®ç¶™æ‰¿ã€ ã€ç–‘å•ã€‘ ã“ã®ä»•çµ„ã¿ã¯ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ã«ä¼¼ã¦ã„ã‚‹ã‹ï¼Ÿ ã¯ã„ã€ã“ã‚Œã¯éå¸¸ã«çš„ç¢ºãªæ´å¯Ÿã§ã™ã€‚ä½ç½®ç¬¦å·ã¯ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ãã®ã‚‚ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ãã®æ ¹åº•ã«ã‚ã‚‹ã€Œã©ã‚“ãªè¤‡é›‘ãªæƒ…å ±ã‚‚ã€å˜ç´”ãªæ³¢ï¼ˆsin/cosï¼‰ã®çµ„ã¿åˆã‚ã›ã§è¡¨ç¾ã§ãã‚‹ã€ã¨ã„ã†æ€æƒ³ã‚’è‰²æ¿ƒãå—ã‘ç¶™ã„ã§ã„ã¾ã™ã€‚ ãƒ•ãƒ¼ãƒªã‚¨å¤‰æ›ãŒæ—¢å­˜ã®ä¿¡å·ã‚’åˆ†æã—ã¦å‘¨æ³¢æ•°æˆåˆ†ã«åˆ†è§£ã™ã‚‹ã®ã«å¯¾ã—ã€ä½ç½®ç¬¦å·ã¯ä½ç½®ã¨ã„ã†æƒ…å ±ã‚’è¡¨ç¾ã™ã‚‹ãŸã‚ã«ã€æ§˜ã€…ãªå‘¨æ³¢æ•°ã®æ³¢ã‚’çµ„ã¿åˆã‚ã›ã¦ãƒ™ã‚¯ãƒˆãƒ«ã‚’äººå·¥çš„ã«ç”Ÿæˆã™ã‚‹ã€ã¨ã„ã†é•ã„ã¯ã‚ã‚Šã¾ã™ãŒã€ãã®ç™ºæƒ³ã¯å…±é€šã—ã¦ã„ã¾ã™ã€‚ 3.2 ã€Œ10000ã€ã¨ã„ã†æ•°å­—ã®è¬ ã€ç–‘å•ã€‘ å¼ã«å‡ºã¦ãã‚‹ã€Œ10000ã€ã¯ã©ã“ã‹ã‚‰æ¥ãŸã®ã‹ï¼Ÿãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã‹ï¼Ÿ ã¯ã„ã€ã“ã‚Œã¯ä¸€ç¨®ã®ãƒã‚¸ãƒƒã‚¯ãƒŠãƒ³ãƒãƒ¼ã§ã‚ã‚Šã€Transformerã®åŸè«–æ–‡ã®è‘—è€…ã‚‰ãŒçµŒé¨“çš„ã«è¨­å®šã—ãŸãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ã™ã€‚ã“ã®æ•°å­—ã¯ã€ä½ç½®ç¬¦å·ãŒè¡¨ç¾ã§ãã‚‹æ³¢ã®å‘¨æœŸï¼ˆæ³¢é•·ï¼‰ã®ç¯„å›²ã‚’æ±ºå®šã—ã¾ã™ã€‚ã“ã®å€¤ãŒå¤§ãã™ããšå°ã•ã™ããšã€æ§˜ã€…ãªé•·ã•ã®æ–‡ç« ã«å¯¾å¿œã§ãã‚‹ãƒãƒ©ãƒ³ã‚¹ã®è‰¯ã„å€¤ã¨ã—ã¦é¸ã°ã‚Œã€ç¾åœ¨ã§ã¯äº‹å®Ÿä¸Šã®æ¨™æº–ã¨ãªã£ã¦ã„ã¾ã™ã€‚ ãŠã‚ã‚Šã« å€‹äººçš„ãªè§£é‡ˆã®ã¾ã¨ã‚ãŒä»¥ä¸‹ã§ã™ã€‚ ã€Œ1ç•ªç›®ã®ãƒˆãƒ¼ã‚¯ãƒ³ã¨2ç•ªç›®ã®ãƒˆãƒ¼ã‚¯ãƒ³ã®i=0ã®ãƒšã‚¢ã¯åŒã˜ä¸–ç•Œã«ã„ã¦ã€ãã®ä¸­ã®ç‰©å·®ã—ã§è‡ªç”±ã«ã©ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚‚è¡¨ã›ã‚‰ã‚Œã‚‹ã€ ã“ã®ä¸€æ–‡ã¯ã€ä½ç½®ç¬¦å·ã®ä»•çµ„ã¿ã®ç¥é«„ã‚’å®Œç’§ã«æ‰ãˆã¦ã„ã¾ã™ã€‚ å…±é€šã®ä¸–ç•Œ: å…¨ã¦ã®å˜èªã¯ã€æ¬¡å…ƒãƒšã‚¢ $i$ ã”ã¨ã«ä½œã‚‰ã‚Œã‚‹ã€ŒåŒã˜åº§æ¨™å¹³é¢ã€ä¸Šã«ãƒ—ãƒ­ãƒƒãƒˆã•ã‚Œã‚‹ã€‚ å…±é€šã®ç‰©å·®ã—: ãã®ä¸–ç•Œã®ä¸­ã§ã¯ã€ç›¸å¯¾è·é›¢ã‚’æ¸¬ã‚‹ãŸã‚ã®ã€Œå…±é€šã®å›è»¢è¡Œåˆ—ï¼ˆç‰©å·®ã—ï¼‰ã€ãŒä½¿ã„å›ã•ã‚Œã‚‹ã€‚ è‡ªç”±ãªè¡¨ç¾: ã“ã‚Œã«ã‚ˆã‚Šã€ã©ã®å˜èªã‚’åŸºæº–ã«ã—ã¦ã‚‚ã€ä»–ã®å…¨ã¦ã®å˜èªã¨ã®ç›¸å¯¾çš„ãªä½ç½®é–¢ä¿‚ã‚’ã€æ™®éçš„ãªãƒ«ãƒ¼ãƒ«ã§è‡ªç”±ã«è¡¨ç¾ã§ãã‚‹ã€‚ ã“ã®ã‚¨ãƒ¬ã‚¬ãƒ³ãƒˆãªä»•çµ„ã¿ã“ããŒã€TransformerãŒè¤‡é›‘ãªæ–‡ç« æ§‹é€ ã‚’ç†è§£ã—ã€é©šç•°çš„ãªæ€§èƒ½ã‚’ç™ºæ®ã™ã‚‹ãŸã‚ã®æ ¹å¹¹ã®ä¸€ã¤ã¨ãªã£ã¦ã„ã‚‹ã®ã§ã™ã€‚ å‚è€ƒæ–‡çŒ® Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N., ... & Polosukhin, I. (2017). Attention is all you need. In *Advances in neural information processing systems* (pp. 5998-6008)."
},

{
  "title": "Docker + GitLabã§å‡ºã‚‹ã€Œinvalid spec: :/tmp/ssh-agent.sockã€ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¨è§£æ±ºæ³•",
  "url": "/articles/Gitlab-ssh-error/Gitlab-ssh-error.html",
  "date": "2025.05.29",
  "description": "Docker + GitLabã§ç™ºç”Ÿã™ã‚‹ ssh-agent.sock ã‚¨ãƒ©ãƒ¼ã®åŸå› ã¨è§£æ±ºæ³•ã€‚",
  "content": "GitLab ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ Docker ã‚³ãƒ³ãƒ†ãƒŠã®ä¸­ã‹ã‚‰ã‚¯ãƒ­ãƒ¼ãƒ³ã‚„ãƒ—ãƒƒã‚·ãƒ¥ãªã©ã®æ“ä½œã‚’è¡Œã†éš›ã€SSH èªè¨¼ãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚é€šå¸¸ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯ã€ãƒ›ã‚¹ãƒˆå´ã® SSH ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆssh-agentï¼‰ãŒç§˜å¯†éµã‚’ä¿æŒã—ã¦ãŠã‚Šã€ãã®ã‚½ã‚±ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒ‘ã‚¹ãŒ **SSH_AUTH_SOCK** ã§ã™ã€‚ ã“ã®ã‚½ã‚±ãƒƒãƒˆã‚’ Docker ã‚³ãƒ³ãƒ†ãƒŠå†…ã«ã‚‚å…±æœ‰ã™ã‚‹ã“ã¨ã§ã€Docker å†…ã‹ã‚‰ã‚‚ãƒ›ã‚¹ãƒˆã® SSH èªè¨¼æƒ…å ±ã‚’ä½¿ã£ã¦ GitLab ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ ğŸ” ã‚¨ãƒ©ãƒ¼ã®æ­£ä½“ã¯ï¼Ÿ GitLab ãƒªãƒã‚¸ãƒˆãƒªã‚’ Docker ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰æ“ä½œã—ã‚ˆã†ã¨ã—ãŸéš›ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ invalid spec: :/tmp/ssh-agent.sock: empty section between colons ã“ã‚Œã¯ã€Docker Compose ã§ SSH ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚½ã‚±ãƒƒãƒˆã‚’ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¨ã—ã¦ãƒã‚¦ãƒ³ãƒˆã—ã‚ˆã†ã¨ã—ãŸéš›ã«ã€ç’°å¢ƒå¤‰æ•° **SSH_AUTH_SOCK** ãŒæœªè¨­å®šã ã£ãŸãŸã‚ã«ç™ºç”Ÿã—ã¾ã™ã€‚ ğŸ“¦ ãªãœ SSH_AUTH_SOCK ãŒå¿…è¦ãªã®ã‹ï¼Ÿ Docker ã‚³ãƒ³ãƒ†ãƒŠã‹ã‚‰ GitLabï¼ˆSSHæ¥ç¶šï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã«ã¯ã€ãƒ›ã‚¹ãƒˆãƒã‚·ãƒ³ã§å‹•ä½œã—ã¦ã„ã‚‹ ssh-agent ã‚’é€šã˜ã¦èªè¨¼æƒ…å ±ï¼ˆç§˜å¯†éµï¼‰ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®ã¨ãã€**SSH_AUTH_SOCK** ãŒãã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ã‚½ã‚±ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€ã‚’æŒ‡ã—ã¦ã„ã¾ã™ã€‚ âš ï¸ ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿãƒ‘ã‚¿ãƒ¼ãƒ³ Docker Compose ãªã©ã§ä»¥ä¸‹ã®ã‚ˆã†ãªæŒ‡å®šã‚’ã—ã¦ã„ã‚‹å ´åˆã‚’è€ƒãˆã¾ã™ã€‚ volumes: - ${SSH_AUTH_SOCK}:/tmp/ssh-agent.sock ã—ã‹ã—ã€ãƒ›ã‚¹ãƒˆå´ã§ **SSH_AUTH_SOCK** ãŒæœªè¨­å®šï¼ˆã¾ãŸã¯ç©ºæ–‡å­—ï¼‰ã ã£ãŸå ´åˆã€Docker Compose ã¯æ¬¡ã®ã‚ˆã†ã«è§£é‡ˆã—ã¾ã™ã€‚ :/tmp/ssh-agent.sock ã“ã‚Œã¯ã€Œãƒ›ã‚¹ãƒˆå´ãƒ‘ã‚¹ã€ãŒç©ºãªã®ã§ã€Docker ã¯ä¸æ­£ãªãƒœãƒªãƒ¥ãƒ¼ãƒ å®šç¾©ã¨åˆ¤æ–­ã—ã¦ã‚¨ãƒ©ãƒ¼ã‚’å‡ºåŠ›ã—ã¾ã™ã€‚ âœ… è§£æ±ºæ³•ï¼šSSH_AUTH_SOCK ã‚’æ­£ã—ãè¨­å®šã™ã‚‹ ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€**ssh-agent** ã‚’èµ·å‹•ãƒ»è¨­å®šã—ã¾ã™ã€‚ # 1. ssh-agent ã‚’èµ·å‹•\" eval \"$(ssh-agent -s)\" ã“ã‚Œã¯ SSH èªè¨¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®ãƒ‡ãƒ¼ãƒ¢ãƒ³ã‚’èµ·å‹•ã—ã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ç§˜å¯†éµã‚’ä¿æŒã—ã¦ãã‚Œã¾ã™ã€‚ã“ã®ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Š **SSH_AUTH_SOCK** ã¨ã„ã†å¤‰æ•°ã«ã€ã‚½ã‚±ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ãŒè‡ªå‹•çš„ã«ã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚ ä¾‹: # 2. SSH_AUTH_SOCK ã‚’è¨­å®š export SSH_AUTH_SOCK=$(find /tmp/ssh-* -type s) # 3. ç’°å¢ƒå¤‰æ•°ãŒæ­£ã—ãè¨­å®šã•ã‚ŒãŸã‹ç¢ºèª echo $SSH_AUTH_SOCK # => /tmp/ssh-abc123/agent.5835 ãã®å¾Œã€Docker Compose ã‚’å†å®Ÿè¡Œã—ã¾ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€**docker-compose.yml** ã®ä»¥ä¸‹ã®æŒ‡å®šãŒã€æ¬¡ã®ã‚ˆã†ã«å±•é–‹ã•ã‚Œã¾ã™ã€‚ volumes: - ${SSH_AUTH_SOCK}:/tmp/ssh-agent.sock å±•é–‹å¾Œ: /tmp/ssh-xyz123/agent.1234:/tmp/ssh-agent.sock ã¤ã¾ã‚Šã€ã€Œãƒ›ã‚¹ãƒˆ â†’ ã‚³ãƒ³ãƒ†ãƒŠã€é–“ã§ SSH èªè¨¼æƒ…å ±ã®æ©‹æ¸¡ã—ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚çµæœã¨ã—ã¦ã€Docker ã‚³ãƒ³ãƒ†ãƒŠå†…ã‹ã‚‰ GitLab ã¸ã® SSH ã‚¢ã‚¯ã‚»ã‚¹ãŒæˆåŠŸã—ã¾ã™ã€‚ ğŸ’¡ è£œè¶³ ã“ã®æ–¹æ³•ã¯ Dockerfileã‚’ä¸€åˆ‡å¤‰æ›´ã›ãšã€ç’°å¢ƒå¤‰æ•°ã ã‘ã§å®‰å…¨ã«å¯¾å‡¦ã§ãã‚‹ãŸã‚ã€CI/CD ã‚„æœ¬ç•ªç’°å¢ƒã§ã‚‚å®‰å®šã—ã¦åˆ©ç”¨å¯èƒ½ã§ã™ã€‚"
},

{
  "title": "Docker + Poetryã§å§‹ã‚ã‚‹Pythoné–‹ç™ºç’°å¢ƒæ§‹ç¯‰",
  "url": "/articles/docler-poetry/docker-poetry.html",
  "date": "2025.05.28",
  "description": "Docker + Poetryã§Pythoné–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹æ‰‹é †ãƒ¡ãƒ¢ã€‚",
  "content": "Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é–‹ç™ºç’°å¢ƒã‚’æ•´ãˆã‚‹éš›ã€ä¾å­˜é–¢ä¿‚ã®ç®¡ç†ã‚„ç’°å¢ƒã®å†ç¾æ€§ã¯å¸¸ã«èª²é¡Œã¨ãªã‚Šã¾ã™ã€‚ æœ¬è¨˜äº‹ã§ã¯ã€ã“ã®èª²é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã®å¼·åŠ›ãªçµ„ã¿åˆã‚ã›ã€**Docker**ã¨**Poetry**ã‚’åˆ©ç”¨ã—ãŸPythoné–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰æ–¹æ³•ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚ ã“ã‚Œã«ã‚ˆã‚Šã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã«ã‚¯ãƒªãƒ¼ãƒ³ã§å†ç¾æ€§ã®é«˜ã„ç’°å¢ƒã‚’ç°¡å˜ã«æ§‹ç¯‰ã—ã€é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ ãªãœDockerã¨Poetryã‚’ä½¿ã†ã®ã‹ï¼Ÿ Dockerã¯ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦éš”é›¢ã—ã€ç’°å¢ƒä¾å­˜ã®å•é¡Œã‚’è§£æ¶ˆã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Œç§ã®ç’°å¢ƒã§ã¯å‹•ãã®ã«â€¦ã€ã¨ã„ã£ãŸå•é¡Œã‚’ãªãã—ã€ãƒãƒ¼ãƒ é–‹ç™ºã‚„ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«ã—ã¾ã™ã€‚ ä¸€æ–¹ã€Poetryã¯Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ç®¡ç†ã¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°ã‚’å¼·åŠ›ã«ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ä»®æƒ³ç’°å¢ƒã®ä½œæˆã‹ã‚‰ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œã¾ã§ä¸€å…ƒçš„ã«ç®¡ç†ã§ãã‚‹ãŸã‚ã€pipã‚„venvã¨ã„ã£ãŸæ—¢å­˜ã®ãƒ„ãƒ¼ãƒ«ã«æ¯”ã¹ã¦æ ¼æ®µã«ä½¿ã„ã‚„ã™ã•ãŒå‘ä¸Šã—ã¾ã™ã€‚ ã“ã®äºŒã¤ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€OSã‚„æ—¢å­˜ã®Pythonç’°å¢ƒã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ã“ã¨ãªãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æœ€é©ãªé–‹ç™ºç’°å¢ƒã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚ ç’°å¢ƒæ§‹ç¯‰ã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ ã¾ãšã¯ã€ä»Šå›æ§‹ç¯‰ã™ã‚‹ç’°å¢ƒã®ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ . â”œâ”€â”€ .devcontainer/ â”‚ â””â”€â”€ devcontainer.json â”œâ”€â”€ .vscode/ â”‚ â””â”€â”€ settings.json â”œâ”€â”€ app/ â”‚ â””â”€â”€ main.py â”œâ”€â”€ docker-compose.yml â”œâ”€â”€ Dockerfile â”œâ”€â”€ poetry.lock (åˆå›èµ·å‹•æ™‚ã«è‡ªå‹•ç”Ÿæˆ) â”œâ”€â”€ pyproject.toml â””â”€â”€ README.md ã“ã®æ§‹æˆã§ã€ã‚³ãƒ³ãƒ†ãƒŠã®å®šç¾©ã€Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šã€VS Codeã®çµ±åˆè¨­å®šã¾ã§ã‚’ã‚«ãƒãƒ¼ã—ã¦ã„ã¾ã™ã€‚ Dockerfile: ã‚³ãƒ³ãƒ†ãƒŠã®è¨­è¨ˆå›³ `Dockerfile`ã¯ã€Python 3.12ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€Poetryã€å¿…è¦ãªã‚·ã‚¹ãƒ†ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ãã—ã¦é–‹ç™ºã«å¿…è¦ãªPythonãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹æ‰‹é †ã‚’å®šç¾©ã—ã¾ã™ã€‚ ã“ã“ã§ã¯ã€`matplotlib`ã€`numpy`ã€`torch`ã€`japanize-matplotlib`ã€ãã—ã¦VS Codeã§Jupyter Notebookã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚ FROM python:3.12-slim-bookworm # ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®è¨­å®š (ä»»æ„) ENV TZ=Asia/Tokyo RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone # Poetryã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« RUN pip install poetry==1.8.2 # ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®è¨­å®š WORKDIR /app # Poetryã®ãƒ‘ã‚¹è¨­å®š (PATHã«è¿½åŠ ) ENV PATH=\"/root/.local/bin:$PATH\" # ä¾å­˜é–¢ä¿‚ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ãŸã‚ã«ã€pyproject.tomlã¨poetry.lockã‚’å…ˆã«ã‚³ãƒ”ãƒ¼ COPY pyproject.toml poetry.lock* ./ # å¿…è¦ãªã‚·ã‚¹ãƒ†ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« # matplotlib, numpy, torch, japanize-matplotlib, Jupyter Notebooké–¢é€£ RUN apt-get update && apt-get install -y \\ build-essential \\ git \\ libffi-dev \\ libssl-dev \\ zlib1g-dev \\ libjpeg-dev \\ && rm -rf /var/lib/apt/lists/* # Poetryã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« # ã“ã“ã§Jupyter Notebooké–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ RUN poetry install --no-root --no-interaction --no-ansi # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ”ãƒ¼ COPY . . # ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•æ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚³ãƒãƒ³ãƒ‰ (ä»»æ„) # CMD [\"bash\"] ã‚³ãƒ¼ãƒ‰1: Dockerfileã®å†…å®¹ pyproject.toml: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã¨è¨­å®š `pyproject.toml`ã¯PoetryãŒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ä¸­å¿ƒçš„ãªãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ ä»Šå›ã¯ã€å‰è¿°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åŠ ãˆã¦ã€Jupyter Notebooké–¢é€£ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ PyTorchã«ã¤ã„ã¦ã¯ã€CPUç‰ˆã‚’æƒ³å®šã—ãŸã‚½ãƒ¼ã‚¹ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚GPUç‰ˆã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã€é©å®œå¤‰æ›´ã—ã¦ãã ã•ã„ã€‚ [tool.poetry] name = \"my-python-project\" version = \"0.1.0\" description = \"\" authors = [\"Your Name &lt;you@example.com&gt;\"] readme = \"README.md\" [tool.poetry.dependencies] python = \"^3.12\" matplotlib = \"^3.8.4\" numpy = \"^1.26.4\" torch = {version = \"^2.2.2\", source = \"pytorch\"} japanize-matplotlib = \"^1.1.3\" ipykernel = \"^6.29.4\" jupyter = \"^1.0.0\" notebook = \"^7.1.3\" ipython = \"^8.23.0\" [build-system] requires = [\"poetry-core\"] build-backend = \"poetry.core.masonry.api\" [[tool.poetry.source]] name = \"pytorch\" url = \"https://download.pytorch.org/whl/cpu\" priority = \"explicit\" ã‚³ãƒ¼ãƒ‰2: pyproject.tomlã®å†…å®¹ docker-compose.yml: ã‚µãƒ¼ãƒ“ã‚¹å®šç¾©ã¨èµ·å‹•è¨­å®š `docker-compose.yml`ã¯ã€Dockerã‚³ãƒ³ãƒ†ãƒŠã‚’ã¾ã¨ã‚ã¦ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚ `Dockerfile`ã§å®šç¾©ã—ãŸã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’å…ƒã«`app`ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ§‹ç¯‰ã—ã€ãƒ›ã‚¹ãƒˆOSã¨ã‚³ãƒ³ãƒ†ãƒŠé–“ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…±æœ‰ï¼ˆãƒœãƒªãƒ¥ãƒ¼ãƒ ãƒã‚¦ãƒ³ãƒˆï¼‰ã€Jupyter Notebookç”¨ã«ãƒãƒ¼ãƒˆã‚’å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚ version: '3.8' services: app: build: context: . dockerfile: Dockerfile volumes: - .:/app ports: - \"8888:8888\" # Jupyter Notebookç”¨ working_dir: /app tty: true # ã‚³ãƒ³ãƒ†ãƒŠå†…ã§bashã‚’ç¶™ç¶šã•ã›ã‚‹ãŸã‚ã«å¿…è¦ ã‚³ãƒ¼ãƒ‰3: docker-compose.ymlã®å†…å®¹ VS Codeé€£æºã®ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« VS Codeã®ã€ŒRemote - Containersã€æ‹¡å¼µæ©Ÿèƒ½ã‚’ä½¿ã†ã¨ã€ã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã‚’ç›´æ¥é–‹ç™ºç’°å¢ƒã¨ã—ã¦åˆ©ç”¨ã§ãã¾ã™ã€‚ `.devcontainer/devcontainer.json`ã¨`.vscode/settings.json`ã¯ã€ã“ã®é€£æºã‚’ã‚¹ãƒ ãƒ¼ã‚ºã«ã™ã‚‹ãŸã‚ã®è¨­å®šã§ã™ã€‚ ç‰¹ã«`devcontainer.json`ã§ã¯ã€ã‚³ãƒ³ãƒ†ãƒŠèµ·å‹•å¾Œã«è‡ªå‹•ã§ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹è¨­å®šãªã©ã‚’è¨˜è¿°ã—ã¦ã„ã¾ã™ã€‚ // .devcontainer/devcontainer.json { \"name\": \"Python 3.12 with Poetry\", \"dockerComposeFile\": \"../docker-compose.yml\", \"service\": \"app\", \"workspaceFolder\": \"/app\", \"customizations\": { \"vscode\": { \"extensions\": [ \"ms-python.python\", \"ms-toolsai.jupyter\" ], \"settings\": { \"python.defaultInterpreterPath\": \"/root/.local/share/pypoetry/venv/bin/python\", \"python.terminal.activateEnvironment\": true, \"jupyter.notebookFileRoot\": \"${workspaceFolder}\" } } }, \"postStartCommand\": \"poetry install --no-root\", \"remoteUser\": \"root\" } ã‚³ãƒ¼ãƒ‰4: .devcontainer/devcontainer.jsonã®å†…å®¹ // .vscode/settings.json { \"python.languageServer\": \"Pylance\", \"python.analysis.autoImportCompletions\": true, \"python.terminal.activateEnvironment\": true, \"jupyter.notebookFileRoot\": \"${workspaceFolder}\" } ã‚³ãƒ¼ãƒ‰5: .vscode/settings.jsonã®å†…å®¹ ç’°å¢ƒæ§‹ç¯‰ã¨ä½¿ã„æ–¹ ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™ãŒã§ããŸã‚‰ã€ã„ã‚ˆã„ã‚ˆç’°å¢ƒã‚’æ§‹ç¯‰ã—ã€ä½¿ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ 1. Docker Composeã§ç’°å¢ƒã‚’èµ·å‹• ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚åˆå›ã¯ã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰ã«æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ docker compose up --build -d ã“ã‚Œã«ã‚ˆã‚Šã€ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ã‚³ãƒ³ãƒ†ãƒŠãŒèµ·å‹•ã—ã¾ã™ã€‚ 2. ã‚³ãƒ³ãƒ†ãƒŠã«å…¥ã‚‹ èµ·å‹•ã—ãŸã‚³ãƒ³ãƒ†ãƒŠå†…ã§ä½œæ¥­ã‚’è¡Œã†ã«ã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚·ã‚§ãƒ«ã«å…¥ã‚Šã¾ã™ã€‚ docker compose exec app bash Dockerã‚³ãƒ³ãƒ†ãƒŠã®ã‚·ã‚§ãƒ«å†…ã§ã§ãã‚‹ã“ã¨ `docker compose exec app bash` ã‚³ãƒãƒ³ãƒ‰ã§ã‚³ãƒ³ãƒ†ãƒŠã®ã‚·ã‚§ãƒ«ã«å…¥ã£ãŸå¾Œã€é€šå¸¸ã®Linuxç’°å¢ƒã¨åŒæ§˜ã«æ§˜ã€…ãªæ“ä½œãŒå¯èƒ½ã§ã™ã€‚ **ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œ**: `ls`, `cd`, `pwd`, `cp`, `mv`, `rm`, `mkdir` ãªã©ã€åŸºæœ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ“ä½œã‚³ãƒãƒ³ãƒ‰ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚ **ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿**: `vi` ã‚„ `nano` (Dockerfileã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ã‚Œã°) ã‚’ä½¿ã£ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç›´æ¥ç·¨é›†ã§ãã¾ã™ã€‚ **ãƒ—ãƒ­ã‚»ã‚¹ã®ç¢ºèª**: `ps aux` ã§ç¾åœ¨å®Ÿè¡Œä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèªã§ãã¾ã™ã€‚ **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚³ãƒãƒ³ãƒ‰**: `ping`, `curl`, `wget` ãªã©ã§å¤–éƒ¨ã¨ã®é€šä¿¡ã‚’ç¢ºèªã—ãŸã‚Šã€ãƒªã‚½ãƒ¼ã‚¹ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã‚Šã§ãã¾ã™ã€‚ **ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±ã®ç¢ºèª**: `df -h` (ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡), `free -h` (ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡) ãªã©ã§ã‚³ãƒ³ãƒ†ãƒŠã®ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚ **Poetryã‚³ãƒãƒ³ãƒ‰ã®å®Ÿè¡Œ**: `poetry env list`: ä½œæˆã•ã‚ŒãŸä»®æƒ³ç’°å¢ƒã®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚ `poetry run python -c \"import sys; print(sys.version)\"`: ã‚³ãƒ³ãƒ†ãƒŠå†…ã®Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç¢ºèªã§ãã¾ã™ã€‚ `poetry run &lt;ã‚³ãƒãƒ³ãƒ‰&gt;`: PoetryãŒç®¡ç†ã™ã‚‹ä»®æƒ³ç’°å¢ƒå†…ã§ä»»æ„ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ **Pythonã‚¤ãƒ³ã‚¿ãƒ—ãƒªã‚¿ã®èµ·å‹•**: `poetry run python` ã§Pythonã®å¯¾è©±å‹ã‚·ã‚§ãƒ«ã‚’èµ·å‹•ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’è©¦ã™ã“ã¨ãŒã§ãã¾ã™ã€‚ **Jupyter Notebookã®èµ·å‹• (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)**: `docker-compose.yml`ã§ãƒãƒ¼ãƒˆã‚’å…¬é–‹ã—ã¦ã„ã‚‹å ´åˆã€ã‚³ãƒ³ãƒ†ãƒŠå†…ã§Jupyter Notebookã‚’èµ·å‹•ã—ã€ãƒ›ã‚¹ãƒˆã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚ poetry run jupyter lab --ip=0.0.0.0 --port=8888 --allow-root --no-browser ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œå¾Œã€è¡¨ç¤ºã•ã‚Œã‚‹URLï¼ˆãƒˆãƒ¼ã‚¯ãƒ³ä»˜ãï¼‰ã‚’ãƒ›ã‚¹ãƒˆã®ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã¨ã€Jupyter Labã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚ ã“ã‚Œã‚‰ã®æ“ä½œã‚’é€šã˜ã¦ã€ã‚³ãƒ³ãƒ†ãƒŠå†…éƒ¨ã®ç’°å¢ƒã‚’æ¢ç´¢ã—ã€ãƒ‡ãƒãƒƒã‚°ã‚„è¿½åŠ è¨­å®šã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚ 3. Poetryã‚³ãƒãƒ³ãƒ‰ã®åˆ©ç”¨ ã‚³ãƒ³ãƒ†ãƒŠå†…ã§ã¯PoetryãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚ **æ–°ã—ã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ **: `poetry add &lt;ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å&gt;` **ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: `poetry install` (pyproject.tomlã«åŸºã¥ã„ã¦ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«) **ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ**: `poetry run python app/main.py` 4. VS Code Remote - Containersã§ã®é–‹ç™º æœ€ã‚‚ãŠã™ã™ã‚ã®é–‹ç™ºæ–¹æ³•ã§ã™ã€‚VS Codeã«ã€ŒRemote - Containersã€æ‹¡å¼µæ©Ÿèƒ½ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸå¾Œã€ä»¥ä¸‹ã®æ‰‹é †ã§é–‹ç™ºã‚’é–‹å§‹ã§ãã¾ã™ã€‚ VS Codeã‚’é–‹ãã€ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ (`Ctrl+Shift+P` ã¾ãŸã¯ `Cmd+Shift+P`) ã‚’é–‹ãã€ã€ŒRemote-Containers: Open Folder in Container...ã€ã‚’é¸æŠã—ã¾ã™ã€‚ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’é¸æŠã—ã¾ã™ã€‚ VS CodeãŒè‡ªå‹•çš„ã«ã‚³ãƒ³ãƒ†ãƒŠã«æ¥ç¶šã—ã€ãã®ä¸­ã§é–‹ç™ºç’°å¢ƒã‚’é–‹ãã¾ã™ã€‚ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚‚ã‚³ãƒ³ãƒ†ãƒŠå†…ã«ã¤ãªãŒã‚Šã€Jupyter Notebookã‚‚ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«åˆ©ç”¨ã§ãã¾ã™ã€‚ ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ `app/main.py`ã«ä»¥ä¸‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’é…ç½®ã™ã‚‹ã“ã¨ã§ã€`matplotlib`ã‚„`japanize-matplotlib`ã€`numpy`ã€`torch`ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ã‚’ç¢ºèªã§ãã¾ã™ã€‚ import matplotlib.pyplot as plt import japanize_matplotlib import numpy as np import torch def main(): print(\"Hello from Dockerized Poetry environment!\") print(f\"NumPy version: {np.__version__}\") print(f\"Torch version: {torch.__version__}\") # Matplotlibã¨japanize-matplotlibã®ãƒ†ã‚¹ãƒˆ x = np.linspace(0, 2 * np.pi, 100) y = np.sin(x) plt.figure(figsize=(8, 6)) plt.plot(x, y) plt.title(\"æ­£å¼¦æ³¢ã®ã‚°ãƒ©ãƒ•ï¼ˆæ—¥æœ¬èªå¯¾å¿œï¼‰\") plt.xlabel(\"Xè»¸\") plt.ylabel(\"Yè»¸\") plt.grid(True) # plt.show() # VS Codeã®Jupyterãªã©ã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ if __name__ == \"__main__\": main() ã‚³ãƒ¼ãƒ‰6: app/main.pyã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ `plt.show()`ã¯GUIç’°å¢ƒãŒå¿…è¦ãªãŸã‚ã€Jupyter Notebookã‚„ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã‚·ã‚§ãƒ«ã§å®Ÿè¡Œã™ã‚‹å ´åˆã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã¾ãŸã¯é©åˆ‡ã«å‡¦ç†ã—ã¦ãã ã•ã„ã€‚ ã¾ã¨ã‚ã¨ä»Šå¾Œã®å±•æœ› Dockerã¨Poetryã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã€Pythoné–‹ç™ºã®ç’°å¢ƒæ§‹ç¯‰ãŒæ ¼æ®µã«åŠ¹ç‡åŒ–ã•ã‚Œã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å†ç¾æ€§ã¨ä¿å®ˆæ€§ãŒå‘ä¸Šã—ã¾ã™ã€‚ ç‰¹ã«VS Codeã®Remote - Containersæ©Ÿèƒ½ã¨ã®é€£æºã¯ã€é–‹ç™ºä½“é¨“ã‚’å¤§ããå‘ä¸Šã•ã›ã‚‹ã§ã—ã‚‡ã†ã€‚ ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åŸºã«ã€çš†ã•ã‚“ã®Pythonãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ˆã‚Šã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚€ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚ ã”è³ªå•ã‚„ã•ã‚‰ãªã‚‹ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã®ã”è¦æœ›ãŒã‚ã‚Œã°ã€ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚"
},

{
  "title": "ç ”ç©¶è¨˜äº‹: ã“ã®HPã«ã¤ã„ã¦",
  "url": "/articles/about_this_hp/about_this_hp.html",
  "date": "2025.05.21",
  "description": "æœ¬ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã®ç›®çš„ã‚„æ§‹æˆã€ä»Šå¾Œã®æ›´æ–°æ–¹é‡ã«ã¤ã„ã¦ã€‚",
  "content": "æœ¬ãƒ›ãƒ¼ãƒ ãƒšãƒ¼ã‚¸ã¯ã€ç§ãŒã“ã‚Œã¾ã§ã«å–ã‚Šçµ„ã‚“ã§ããŸç ”ç©¶æ´»å‹•ã€ç¿’å¾—ã—ãŸã‚¹ã‚­ãƒ«ã€ãã—ã¦å€‹äººçš„ãªèˆˆå‘³ã‚„å‡ºæ¥äº‹ã‚’ã¾ã¨ã‚ãŸãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆã§ã™ã€‚ å¤§å­¦é™¢ã§ã®ç ”ç©¶æ´»å‹•ã‚’ä¸­å¿ƒã«ã€å®šæœŸçš„ã«å†…å®¹ã‚’æ›´æ–°ã—ã¦ã„ãäºˆå®šã§ã™ã€‚ ã‚µã‚¤ãƒˆã®ç›®çš„ **ç ”ç©¶æˆæœã®å…¬é–‹**: ç§ã®è«–æ–‡ã‚„å­¦ä¼šç™ºè¡¨ãªã©ã®ç ”ç©¶å®Ÿç¸¾ã‚’ä¸€è¦§ã§ã”ç¢ºèªã„ãŸã ã‘ã¾ã™ã€‚ **ç ”ç©¶ãƒ†ãƒ¼ãƒã®è©³ç´°**: ç¾åœ¨å–ã‚Šçµ„ã‚“ã§ã„ã‚‹ç ”ç©¶ãƒ†ãƒ¼ãƒã‚„é–¢é€£åˆ†é‡ã«ã¤ã„ã¦ã€ã‚ˆã‚Šæ·±ãæ˜ã‚Šä¸‹ã’ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ **ã‚¹ã‚­ãƒ«ã®å¯è¦–åŒ–**: ç¿’å¾—ã—ã¦ã„ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã€ãƒ„ãƒ¼ãƒ«ã€è³‡æ ¼ãªã©ã‚’æ˜ç¢ºã«ç¤ºã—ã¾ã™ã€‚ **ç ”ç©¶è¨˜äº‹ã®ç™ºä¿¡**: æ—¥ã€…ã®ç ”ç©¶ã§å¾—ã‚‰ã‚ŒãŸçŸ¥è¦‹ã‚„ã€æ³¨ç›®ã—ã¦ã„ã‚‹æŠ€è¡“ãƒˆãƒ¬ãƒ³ãƒ‰ãªã©ã«ã¤ã„ã¦ã€ãƒ–ãƒ­ã‚°å½¢å¼ã§æƒ…å ±ç™ºä¿¡ã‚’è¡Œã„ã¾ã™ã€‚ **Deep Researchã®å…±æœ‰**: ç‰¹å®šã®æ·±ã„ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ã€è©³ç´°ãªè€ƒå¯Ÿã‚„å®Ÿé¨“çµæœã‚’è¨˜äº‹ã¨ã—ã¦å…±æœ‰ã—ã¾ã™ã€‚ **å€‹æ€§ã®è¡¨ç¾**: ã€Œãã®ä»–ã€ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€ç ”ç©¶ä»¥å¤–ã®å€‹äººçš„ãªæ´»å‹•ã‚„è¶£å‘³ãªã©ã€ç§è‡ªèº«ã®äººé–“æ€§ã‚’çŸ¥ã£ã¦ã„ãŸã ã‘ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚‚æä¾›ã—ã¾ã™ã€‚ ã“ã®ã‚µã‚¤ãƒˆã‚’é€šã˜ã¦ã€ç§ã®å°‚é–€æ€§ã‚„ç†±æ„ã‚’çš†æ§˜ã«çŸ¥ã£ã¦ã„ãŸã ãã€ç ”ç©¶äº¤æµã‚„æ–°ãŸãªæ©Ÿä¼šã«ç¹‹ãŒã‚Œã°ã¨è€ƒãˆã¦ãŠã‚Šã¾ã™ã€‚ ã”æ„è¦‹ã‚„ã”æ„Ÿæƒ³ã€å…±åŒç ”ç©¶ã®ã”ææ¡ˆãªã©ã”ã–ã„ã¾ã—ãŸã‚‰ã€ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚"
},

{
  "title": "ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã®ãƒã‚¤ãƒ³ãƒˆ",
  "url": "/articles/renewal/renewal.html",
  "date": "2025.05.21",
  "description": "ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆã‚’ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã—ãŸãƒã‚¤ãƒ³ãƒˆã®ã¾ã¨ã‚ã€‚",
  "content": "ã“ã®åº¦ã€ç§ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆã®ãƒ‡ã‚¶ã‚¤ãƒ³ã¨æ§‹æˆã‚’å…¨é¢çš„ã«ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã„ãŸã—ã¾ã—ãŸï¼ ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«ã®ãƒã‚¤ãƒ³ãƒˆ **æƒ…å ±æ•´ç†ã®æ”¹å–„**: ã€Œãƒ›ãƒ¼ãƒ ã€ã€Œç ”ç©¶å®Ÿç¸¾ã€ã€Œç ”ç©¶ã€ã€Œã‚¹ã‚­ãƒ«ã€ã€Œç ”ç©¶è¨˜äº‹ã€ã€ŒDeep Researchã€ã€Œãã®ä»–ã€ã¨ã‚«ãƒ†ã‚´ãƒªã‚’æ˜ç¢ºã«åˆ†ã‘ã€ãƒ˜ãƒƒãƒ€ãƒ¼ã‹ã‚‰ç°¡å˜ã«å„ãƒšãƒ¼ã‚¸ã¸ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ **è¨˜äº‹æ©Ÿèƒ½ã®å……å®Ÿ**: ã€Œç ”ç©¶è¨˜äº‹ã€ã‚„ã€ŒDeep Researchã€ã€Œãã®ä»–ã€ã®å„é …ç›®ã§ã€è‡ªç”±ã«è¨˜äº‹ã‚’è¿½åŠ ã§ãã‚‹ä»•çµ„ã¿ã‚’å°å…¥ã—ã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€æœ€æ–°ã®ç ”ç©¶é€²æ—ã‚„æ—¥ã€…ã®å­¦ã³ã€å€‹äººçš„ãªå‡ºæ¥äº‹ãªã©ã‚’ã‚¿ã‚¤ãƒ ãƒªãƒ¼ã«ç™ºä¿¡ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ ä»Šå¾Œã‚‚ã€ç§ã®ç ”ç©¶æ´»å‹•ã‚„èˆˆå‘³æ·±ã„ãƒ†ãƒ¼ãƒã«ã¤ã„ã¦ã€å®šæœŸçš„ã«è¨˜äº‹ã‚’æ›´æ–°ã—ã¦ã„ãäºˆå®šã§ã™ã€‚ ã“ã®ã‚µã‚¤ãƒˆãŒã€çš†æ§˜ã«ã¨ã£ã¦æœ‰ç›Šãªæƒ…å ±æºã¨ãªã‚Œã°å¹¸ã„ã§ã™ã€‚ å¼•ãç¶šãã€æ³‰è«’éŸ³ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚"
},

{
  "title": "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã“ã“ã«æ›¸ã",
  "url": "false",
  "date": "2025.MM.DD",
  "description": "è¨˜äº‹ã®æ¦‚è¦ã‚’ä¸€æ–‡ã§æ›¸ãã¾ã™ï¼ˆä¾‹ï¼šâ—¯â—¯ã®æŠ€è¡“ãƒ¡ãƒ¢ï¼‰ã€‚",
  "content": "ã“ã®è¨˜äº‹ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨ã‚³ãƒ”ãƒ¼ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’ä»¥ä¸‹ã«æ²¿ã£ã¦æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚ title: è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ« date: ä½œæˆæ—¥ (YYYY-MM-DD) displayDate: è¡¨ç¤ºç”¨æ—¥ä»˜ (YYYY.MM.DD) permalink: å…¬é–‹ãƒ‘ã‚¹ (ä¾‹: articles/my-article/index.html) tags: å°‘ãªãã¨ã‚‚ articles ã‚’å«ã‚ã‚‹ï¼ˆä¾‹: - articlesï¼‰ description: è¦ç´„æ–‡ update: æ›´æ–°å±¥æ­´ã«å‡ºã™æ–‡é¢ Markdownã§æ›¸ãå ´åˆï¼ˆæ¨å¥¨ï¼‰ --- layout: layouts/article.njk title: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ date: 2025-10-01 displayDate: 2025.10.01 permalink: articles/sample-article/index.html tags: - articles - ã‚µãƒ³ãƒ—ãƒ« description: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã®æ¦‚è¦ã§ã™ã€‚ update: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ --- # è¦‹å‡ºã— æœ¬æ–‡ã‚’Markdownã§æ›¸ãã¾ã™ã€‚ ```bash echo \"ã‚³ãƒ¼ãƒ‰ä¾‹\" ``` ![ç”»åƒèª¬æ˜](./sample.png) HTMLã§æ›¸ãå ´åˆ --- layout: layouts/article.njk title: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ date: 2025-10-01 displayDate: 2025.10.01 permalink: articles/sample-article/index.html tags: - articles - ã‚µãƒ³ãƒ—ãƒ« description: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã®æ¦‚è¦ã§ã™ã€‚ update: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ --- è¦‹å‡ºã— æœ¬æ–‡ã‚’HTMLã§æ›¸ãã¾ã™ã€‚ echo \"ã‚³ãƒ¼ãƒ‰ä¾‹\" ç”»åƒã®ç½®ãæ–¹ ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã€Markdownãªã‚‰ ![èª¬æ˜](./ãƒ•ã‚¡ã‚¤ãƒ«å.png)ã€HTMLãªã‚‰ &lt;img src=\"./ãƒ•ã‚¡ã‚¤ãƒ«å.png\"&gt; ã§å‚ç…§ã—ã¦ãã ã•ã„ã€‚"
},

{
  "title": "è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã“ã“ã«æ›¸ã",
  "url": "false",
  "date": "2025.MM.DD",
  "description": "è¨˜äº‹ã®æ¦‚è¦ã‚’ä¸€æ–‡ã§æ›¸ãã¾ã™ï¼ˆä¾‹ï¼šâ—¯â—¯ã®æŠ€è¡“ãƒ¡ãƒ¢ï¼‰ã€‚",
  "content": "ã“ã®è¨˜äº‹ã¯ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã™ ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨ã‚³ãƒ”ãƒ¼ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’ä»¥ä¸‹ã«æ²¿ã£ã¦æ›¸ãæ›ãˆã¦ãã ã•ã„ã€‚ title: è¨˜äº‹ã‚¿ã‚¤ãƒˆãƒ« date: ä½œæˆæ—¥ (YYYY-MM-DD) displayDate: è¡¨ç¤ºç”¨æ—¥ä»˜ (YYYY.MM.DD) permalink: å…¬é–‹ãƒ‘ã‚¹ (ä¾‹: articles/my-article/index.html) tags: å°‘ãªãã¨ã‚‚ articles ã‚’å«ã‚ã‚‹ï¼ˆä¾‹: - articlesï¼‰ description: è¦ç´„æ–‡ update: æ›´æ–°å±¥æ­´ã«å‡ºã™æ–‡é¢ Markdownã§æ›¸ãå ´åˆï¼ˆæ¨å¥¨ï¼‰ --- layout: layouts/article.njk title: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ date: 2025-10-01 displayDate: 2025.10.01 permalink: articles/sample-article/index.html tags: - articles - ã‚µãƒ³ãƒ—ãƒ« description: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã®æ¦‚è¦ã§ã™ã€‚ update: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ --- # è¦‹å‡ºã— æœ¬æ–‡ã‚’Markdownã§æ›¸ãã¾ã™ã€‚ ```bash echo \"ã‚³ãƒ¼ãƒ‰ä¾‹\" ``` ![ç”»åƒèª¬æ˜](./sample.png) HTMLã§æ›¸ãå ´åˆ --- layout: layouts/article.njk title: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ date: 2025-10-01 displayDate: 2025.10.01 permalink: articles/sample-article/index.html tags: - articles - ã‚µãƒ³ãƒ—ãƒ« description: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã®æ¦‚è¦ã§ã™ã€‚ update: ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚ --- è¦‹å‡ºã— æœ¬æ–‡ã‚’HTMLã§æ›¸ãã¾ã™ã€‚ echo \"ã‚³ãƒ¼ãƒ‰ä¾‹\" ç”»åƒã®ç½®ãæ–¹ ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã“ã®ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã€Markdownãªã‚‰ ![èª¬æ˜](./ãƒ•ã‚¡ã‚¤ãƒ«å.png)ã€HTMLãªã‚‰ &lt;img src=\"./ãƒ•ã‚¡ã‚¤ãƒ«å.png\"&gt; ã§å‚ç…§ã—ã¦ãã ã•ã„ã€‚"
},

{
  "title": "æˆäººå¼ã®æ€ã„å‡ºã¨æ´»å‹•ã«ã¤ã„ã¦",
  "url": "/articles/coming_of_age/coming_of_age.html",
  "date": "2021.01.10",
  "description": "æˆäººå¼ã§ã®æ´»å‹•ã‚„å½“æ™‚ã®æ€ã„å‡ºã‚’ã¾ã¨ã‚ãŸè¨˜äº‹ã€‚",
  "content": "2021å¹´ã€æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹ã®å½±éŸ¿ã§ã€ç§ãŒä½ã‚€è¶Šè°·å¸‚ã§ã¯æˆäººå¼ãŒä¸­æ­¢ã¨ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚ ä¸€ç”Ÿã«ä¸€åº¦ã®æˆäººå¼ãŒå¤±ã‚ã‚Œã‚‹ã“ã¨ã«å¯‚ã—ã•ã‚’æ„Ÿã˜ã€ä½•ã‹ã§ãã‚‹ã“ã¨ã¯ãªã„ã‹ã¨è€ƒãˆã¦ã„ãŸã¨ãã€ å…ƒè¶Šè°·å¸‚ç«‹è¥¿ä¸­å­¦æ ¡ã®ã‚µãƒƒã‚«ãƒ¼éƒ¨ã®ã‚³ãƒ¼ãƒã‚„å…ˆç”Ÿæ–¹ã¨å…±ã«**ã€Œè¶Šè°·ãƒŸãƒ¬ãƒ‹ã‚¢ãƒ &+1æˆäººå¼@åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ ã€**ã‚’ä¼ç”»ã™ã‚‹æ©Ÿä¼šã‚’å¾—ã¾ã—ãŸã€‚ æ´»å‹•æ¦‚è¦ **Date**: 2021å¹´2æœˆ28æ—¥ **Location**: åŸ¼ç‰ã‚¹ã‚¿ã‚¸ã‚¢ãƒ 2002 **Background**: æ–°å‹ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹æ„ŸæŸ“ç—‡ã®å½±éŸ¿ã«ã‚ˆã‚‹è¶Šè°·å¸‚ã®æˆäººå¼ä¸­æ­¢ã‚’å—ã‘ã€åŒç´šç”Ÿã¨å…±ã«æˆäººå¼ã‚’å†ä¼ç”»ã€‚ **Role**: å®Ÿè¡Œå§”å“¡é•·ã«å£°ã‚’ã‹ã‘ã‚‰ã‚Œã€**æ›¸è¨˜ãƒ»æ˜ åƒãƒ—ãƒ­ãƒ‡ãƒ¥ãƒ¼ã‚µãƒ¼**ã¨ã—ã¦æ´»å‹•ã—ã¾ã—ãŸã€‚ å…·ä½“çš„ã«ã¯ã€ä¼šè­°ã§ã®è³‡æ–™ã¾ã¨ã‚ã€ãƒ†ã‚£ã‚¶ãƒ¼ãƒ ãƒ¼ãƒ“ãƒ¼ä½œæˆã€å½“æ—¥ã®ã‚ªãƒ¼ãƒ­ãƒ©ãƒ“ã‚¸ãƒ§ãƒ³ã§ã®ã‚¹ãƒ©ã‚¤ãƒ‰ã‚„æ˜ åƒã®ä½œæˆã€ é ‚ã„ãŸæ˜ åƒã®ç·¨é›†ã€éŸ³éŸ¿ã®èª¿ç¯€ãªã©ã‚’æ‹…å½“ã—ã¾ã—ãŸã€‚ **Funding**: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ•ã‚¡ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã«ã¦**160ä¸‡å††**ã®è³‡é‡‘ã‚’é›†ã‚ã‚‹ã“ã¨ã«æˆåŠŸã—ã¾ã—ãŸã€‚ **Guest Messages**: å…ƒKRUSH -65ã‚­ãƒ­ç´šç‹è€… HIROYAã•ã‚“ã€å…ƒWBAã‚¹ãƒ¼ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¶ãƒ¼ç´šç‹è€… å±±å†… é«˜å¿—ã•ã‚“ã€ COLOR,DEEP,LUVANDSOUL KIKURIã•ã‚“ã€DEEPãƒªãƒ¼ãƒ€ãƒ¼ TAKAã•ã‚“ã‹ã‚‰ãŠç¥ã„ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é ‚ãã¾ã—ãŸã€‚ **Media Coverage**: æ±éƒ¨èª­å£²æ–°èã«2å›æ²è¼‰ã•ã‚ŒãŸã»ã‹ã€å½“æ—¥ã¯NHKã®å–æãŒè¡Œã‚ã‚Œã€NHKé¦–éƒ½åœãƒ‹ãƒ¥ãƒ¼ã‚¹ã«ã¦æ”¾é€ã•ã‚Œã¾ã—ãŸã€‚ æ´»å‹•ã‚’æŒ¯ã‚Šè¿”ã£ã¦ å›°é›£ãªçŠ¶æ³ã®ä¸­ã§ã‚‚ã€ä»²é–“ãŸã¡ã¨å”åŠ›ã—ã¦æˆäººå¼ã‚’ä¼ç”»ã—ã€å¤šãã®äººã€…ã®æ”¯æ´ã‚’å¾—ã‚‰ã‚ŒãŸã“ã¨ã¯ã€ ç§ã«ã¨ã£ã¦ã‹ã‘ãŒãˆã®ãªã„çµŒé¨“ã¨ãªã‚Šã¾ã—ãŸã€‚ ç‰¹ã«ã€æ˜ åƒåˆ¶ä½œã‚’é€šã˜ã¦ã‚¤ãƒ™ãƒ³ãƒˆå…¨ä½“ã®ç››ã‚Šä¸Šã’ã«è²¢çŒ®ã§ããŸã“ã¨ã€ãã—ã¦å½“æ—¥ã®å‚åŠ è€…ã®ç¬‘é¡”ã‚’è¦‹ãŸã¨ãã®é”æˆæ„Ÿã¯å¿˜ã‚Œã‚‰ã‚Œã¾ã›ã‚“ã€‚ ã“ã®çµŒé¨“ã¯ã€ç›®æ¨™ã«å‘ã‹ã£ã¦ãƒãƒ¼ãƒ ã§å”åŠ›ã™ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚„ã€å›°é›£ãªçŠ¶æ³ã‚’ä¹—ã‚Šè¶Šãˆã‚‹åŠ›ã‚’ç§ã«ä¸ãˆã¦ãã‚Œã¾ã—ãŸã€‚ ä»¥ä¸‹ã«ã€å½“æ™‚ã®æ´»å‹•ã®æ§˜å­ã‚’ä¼ãˆã‚‹ãƒ¡ãƒ‡ã‚£ã‚¢æ²è¼‰ã®ç”»åƒã‚„æ˜ åƒã‚’æ²è¼‰ã—ã¾ã™ã€‚"
}

]
